SQL> 
SQL> COLUMN "Database"       FORMAT A20
SQL> COLUMN "Time"           FORMAT A20
SQL> COLUMN "Version"        FORMAT A30
SQL> COLUMN "Session"        FORMAT 9999990
SQL> COLUMN "OS User"        FORMAT A10
SQL> COLUMN "Machine"        FORMAT A20
SQL> SET LINES 180
SQL> SET PAGES 1000
SQL> 
SQL> SELECT 'Start: ' || dbs.name "Database", To_Char (SYSDATE,'DD-MON-YYYY HH24:MI:SS') "Time",
  2          Replace (Substr(ver.banner, 1, Instr(ver.banner, '64')-4), 'Enterprise Edition Release ', '') "Version"
  3    FROM v$database dbs,  v$version ver
  4   WHERE ver.banner LIKE 'Oracle%';

Database             Time                 Version
-------------------- -------------------- ------------------------------
Start: ORCL          19-FEB-2017 15:32:15 Oracle Database 12c 12.1.0.2.0

SQL> 
SQL> DEFINE RUNDESC='Bra-One'
SQL> 
SQL> SET SERVEROUTPUT ON
SQL> SET TIMING ON
SQL> 
SQL> ALTER SESSION SET NLS_DATE_FORMAT = 'DD-MON-YYYY';

Session altered.

Elapsed: 00:00:00.00
SQL> BEGIN
  2  
  3    Utils.Clear_Log;
  4    Bench_Queries.Execute_Run_Batch (
  5                          p_run_desc              => '&RUNDESC',
  6                          p_points_wide_2lis      => L2_num_arr (L1_num_arr (100, 200, 300, 400),
  7                                                                 L1_num_arr (400)),
  8                          p_points_deep_2lis      => L2_num_arr (L1_num_arr (100),
  9                                                                 L1_num_arr (0, 100, 200, 300, 400)),
 10                          p_query_group           => 'BRACKET',
 11                          p_redo_data_yn          => 'Y');
 12  
 13  END;
 14  /
old   5:                         p_run_desc              => '&RUNDESC',
new   5:                         p_run_desc              => 'Bra-One',

PL/SQL procedure successfully completed.

Elapsed: 00:30:45.11
SQL> PROMPT Default log
Default log
SQL> @../sql/L_Log_Default

TEXT
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Executing batch of 2 runs...
Bench run 2 created

Elapsed: 00:00:00.00
SQL> PROMPT Execute_Run logs
Execute_Run logs
SQL> @../sql/L_Log_Gp 0

TEXT
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Bench run id = 3

Wide Points
===========
400

Deep Points
===========
0, 100, 200, 300, 400
Header="id","o_pos","c_pos","str","Random"
mid=
        b.id        id,
        t.o_pos     o_pos,
        t.c_pos     c_pos,
        t.str       str

new='"' ||  b.id        || '","' || t.o_pos     || '","' || t.c_pos     || '","' ||
        t.str || '","#?"'

/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length (p_str) - Length (Replace (p_str, '(', '')); l_ob_lis SYS.ODCINum
berList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList := SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis b_l
is_type := b_lis_type(NULL); l_bra_lis bra_lis_type := bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF c_n_ob = 0
THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob); l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND (c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr (p_str, i, 1)
; IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b := n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1; l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN
D IF; l_b_lis(n_b).diff := n_ob - n_cb; END LOOP; FOR i IN 1..n_ob LOOP l_o_diff := l_b_lis (l_ob_lis(i)).diff; FOR j IN 1..n_cb LOOP IF l_b_lis (l_cb_lis(j)).pos < l_b_lis (l_ob_lis(i)).pos THEN CONT
INUE; END IF; IF l_o_diff = l_b_lis (l_cb_lis(j)).diff + 1 THEN l_bra_lis(i) := bra_rec_type (l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_lis(j)).pos, Substr (p_str, l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_
lis(j)).pos - l_b_lis(l_ob_lis(i)).pos + 1)); EXIT; END IF; END LOOP; END LOOP; RETURN l_bra_lis; END; SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","'
 || t.str || '","#?"' FROM bracket_strings b OUTER APPLY TABLE (Parse_Brackets (Nvl (b.str, ' '))) t ORDER BY b.id, t.o_pos

Header="id","o_pos","c_pos","str","Random"
mid=
        id        id,
        min(case when flag =  1 then pos end) o_pos,
        min(case when flag = -1 then pos end) c_pos,
        Substr (str, min(case when flag =  1 then pos end), min(case when flag = -1 then pos end) - min(case when flag =  1 then pos end) + 1)       str

new='"' ||  id        || '","' || min(case when flag =  1 then pos end) || '","' || min(case when flag = -1 then pos end) || '","' ||
        Substr (str, min(case when flag =  1 then pos end), min(case when flag = -1 then pos end) - min(case when flag =  1 then pos end) + 1) || '","#?"'

/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str, regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by level <= length(str) - length(translate(str, 'x()', 'x')) and prior id =
 id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct, ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1 else -1 end, sum(case substr(str, pos, 1) when '(' then 1
end) over (partition by id order by pos), sum(case substr(str, pos, 1) when '(' then 1 else -1 end) over (partition by id order by pos) from d ), f ( id, str, pos, flag, l_ct, ct, o_ct ) as ( select i
d, str, pos, flag, l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over (partition by id, flag, ct order by pos) from p ) SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || id || '","' || m
in(case when flag = 1 then pos end) || '","' || min(case when flag = -1 then pos end) || '","' || Substr (str, min(case when flag = 1 then pos end), min(case when flag = -1 then pos end) - min(case wh
en flag = 1 then pos end) + 1) || '","#?"' /*+ GATHER_PLAN_STATISTICS */ from f group by id, str, ct, o_ct order by id, min(case when flag = 1 then pos end)

Header="id","o_pos","c_pos","str","Random"
mid=
        id        id,
        o_pos o_pos,
        c_pos c_pos,
        t       str

new='"' ||  id        || '","' || o_pos || '","' || c_pos || '","' ||
        t || '","#?"'

/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id ,str from bracket_strings connect by id = prior id and substr(str,level,1) is not null and prior sys_guid() is not null ), mrq as (
select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str ,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MA
TCH SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s = '(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')' and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos || '","' || t || '","#?"' /*+ GATHER_PLAN_STATISTICS */ from mrq order by id, o_pos

Header="id","o_pos","c_pos","str","Random"
mid=
        b.id        id,
        t.o_pos     o_pos,
        t.c_pos     c_pos,
        t.str       str

new='"' ||  b.id        || '","' || t.o_pos     || '","' || t.c_pos     || '","' ||
        t.str || '","#?"'

/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","' || t.str || '","#?"' FROM bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets (b
.str)) t ORDER BY b.id, t.o_pos

bracket_strings truncated
400 copies of base string, 0 tokens

Timer Set: Setup, Constructed at 19 Feb 2017 15:38:23, written at 15:38:23
==========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                      Elapsed         CPU         Calls       Ela/Call       CPU/Call
----------------------  ----------  ----------  ------------  -------------  -------------
Insert bracket_strings        0.01        0.02             1        0.01400        0.02000
Gather_Table_Stats            0.01        0.02             1        0.01200        0.02000
GRP_CNT                       0.00        0.00             1        0.00000        0.00000
(Other)                       0.00        0.00             1        0.00000        0.00000
----------------------  ----------  ----------  ------------  -------------  -------------
Total                         0.03        0.04             4        0.00650        0.01000
----------------------  ----------  ----------  ------------  -------------  -------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length (p_str) - Length (Replace (p_str, '(', '')); l_ob_lis SYS.ODCINum
berList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList := SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis b_l
is_type := b_lis_type(NULL); l_bra_lis bra_lis_type := bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF c_n_ob = 0
THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob); l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND (c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr (p_str, i, 1)
; IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b := n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1; l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN
D IF; l_b_lis(n_b).diff := n_ob - n_cb; END LOOP; FOR i IN 1..n_ob LOOP l_o_diff := l_b_lis (l_ob_lis(i)).diff; FOR j IN 1..n_cb LOOP IF l_b_lis (l_cb_lis(j)).pos < l_b_lis (l_ob_lis(i)).pos THEN CONT
INUE; END IF; IF l_o_diff = l_b_lis (l_cb_lis(j)).diff + 1 THEN l_bra_lis(i) := bra_rec_type (l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_lis(j)).pos, Substr (p_str, l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_
lis(j)).pos - l_b_lis(l_ob_lis(i)).pos + 1)); EXIT; END IF; END LOOP; END LOOP; RETURN l_bra_lis; END; SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","'
 || t.str || '","5664"' FROM bracket_strings b OUTER APPLY TABLE (Parse_Brackets (Nvl (b.str, ' '))) t ORDER BY b.id, t.o_pos

SQL_ID  0309kthgbvrst, child number 0
-------------------------------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN
bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length
(p_str) - Length (Replace (p_str, '(', '')); l_ob_lis
SYS.ODCINumberList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList
:= SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff
INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis
b_lis_type := b_lis_type(NULL); l_bra_lis bra_lis_type :=
bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb
PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF
c_n_ob = 0 THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob);
l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND
(c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr
(p_str, i, 1); IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b :=
n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1;
l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:00.94 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:00.94 |      38 |  2746K|   746K| 2440K (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:13.88 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:00.91 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:00.88 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:38:23, written at 15:38:25
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.04        0.03             1        0.03700        0.03000
First fetch              0.93        0.94             1        0.93300        0.94000
Write to file            0.08        0.07            41        0.00205        0.00171
Remaining fetches        0.01        0.02            40        0.00020        0.00050
Write plan               0.23        0.24             1        0.23100        0.24000
(Other)                  0.01        0.01             1        0.01200        0.01000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    1.31        1.31            86        0.01517        0.01523
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:38:23, written at 15:38:25
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.07        0.04            41        0.00161        0.00098
(Other)        1.25        1.27             1        1.25100        1.27000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.32        1.31            42        0.03136        0.03119
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to WFB_QRY.csv
Summary for W/D = 400/0 , bench_run_statistics_id = 19

Timer Set: Run_One, Constructed at 19 Feb 2017 15:38:23, written at 15:38:25
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            1.33        1.32             1        1.32500        1.32000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.33        1.32             2        0.66250        0.66000
-------  ----------  ----------  ------------  -------------  -------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str, regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by level <= length(str) - length(translate(str, 'x()', 'x')) and prior id =
 id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct, ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1 else -1 end, sum(case substr(str, pos, 1) when '(' then 1
end) over (partition by id order by pos), sum(case substr(str, pos, 1) when '(' then 1 else -1 end) over (partition by id order by pos) from d ), f ( id, str, pos, flag, l_ct, ct, o_ct ) as ( select i
d, str, pos, flag, l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over (partition by id, flag, ct order by pos) from p ) SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || id || '","' || m
in(case when flag = 1 then pos end) || '","' || min(case when flag = -1 then pos end) || '","' || Substr (str, min(case when flag = 1 then pos end), min(case when flag = -1 then pos end) - min(case wh
en flag = 1 then pos end) + 1) || '","3650"' /*+ GATHER_PLAN_STATISTICS */ from f group by id, str, ct, o_ct order by id, min(case when flag = 1 then pos end)

SQL_ID  8wnhcpy3dbc6f, child number 0
-------------------------------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str,
regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by
level <= length(str) - length(translate(str, 'x()', 'x')) and prior id
= id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct,
ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1
else -1 end, sum(case substr(str, pos, 1) when '(' then 1 end) over
(partition by id order by pos), sum(case substr(str, pos, 1) when '('
then 1 else -1 end) over (partition by id order by pos) from d ), f (
id, str, pos, flag, l_ct, ct, o_ct ) as ( select id, str, pos, flag,
l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over
(partition by id, flag, ct order by pos) from p ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || min(case when flag = 1
then pos end) || '","' || min(case when flag = -1 then pos end) ||
'","' || Substr (str, min(case when flag = 1 then pos end), min(case
when flag = -1 then pos end) - min(case wh

Plan hash value: 2736674058

------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                           | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem | Used-Tmp|
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |                 |      1 |        |  40000 |00:00:14.99 |      43 |  40001 |  40001 |       |       |          |         |
|   1 |  SORT ORDER BY                      |                 |      1 |    100 |  40000 |00:00:14.99 |      43 |  40001 |  40001 |  2746K|   746K| 2440K (0)|         |
|   2 |   HASH GROUP BY                     |                 |      1 |    100 |  40000 |00:00:14.95 |      43 |  40001 |  40001 |    85M|  7293K|   85M (0)|         |
|   3 |    VIEW                             |                 |      1 |    100 |  80000 |00:00:16.00 |      43 |  40001 |  40001 |       |       |          |         |
|   4 |     WINDOW SORT                     |                 |      1 |    100 |  80000 |00:00:15.96 |      43 |  40001 |  40001 |   175M|  4458K|   97M (1)|     157K|
|   5 |      VIEW                           |                 |      1 |    100 |  80000 |00:00:27.62 |      40 |  20000 |  20000 |       |       |          |         |
|   6 |       WINDOW SORT                   |                 |      1 |    100 |  80000 |00:00:27.58 |      40 |  20000 |  20000 |   175M|  4457K|   97M (0)|     157K|
|   7 |        VIEW                         |                 |      1 |    100 |  80000 |00:00:09.47 |      38 |      0 |      0 |       |       |          |         |
|*  8 |         CONNECT BY WITHOUT FILTERING|                 |      1 |        |  80000 |00:00:02.31 |      38 |      0 |      0 |   267K|   267K|  237K (0)|         |
|   9 |          TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |         |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   8 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:38:25, written at 15:38:40
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00200        0.00000
First fetch             14.98       10.12             1       14.98200       10.12000
Write to file            0.08        0.08            41        0.00190        0.00195
Remaining fetches        0.01        0.02            40        0.00033        0.00050
Write plan               0.23        0.22             1        0.22500        0.22000
(Other)                  0.01        0.02             1        0.01200        0.02000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                   15.31       10.46            86        0.17805        0.12163
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:38:25, written at 15:38:40
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.06        0.07            41        0.00156        0.00171
(Other)       15.26       10.40             1       15.26100       10.40000
-------  ----------  ----------  ------------  -------------  -------------
Total         15.33       10.47            42        0.36488        0.24929
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to CBL_QRY.csv
Summary for W/D = 400/0 , bench_run_statistics_id = 20

Timer Set: Run_One, Constructed at 19 Feb 2017 15:38:25, written at 15:38:40
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run           15.33       10.49             1       15.33300       10.49000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total         15.33       10.49             2        7.66650        5.24500
-------  ----------  ----------  ------------  -------------  -------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id ,str from bracket_strings connect by id = prior id and substr(str,level,1) is not null and prior sys_guid() is not null ), mrq as (
select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str ,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MA
TCH SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s = '(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')' and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos || '","' || t || '","1840"' /*+ GATHER_PLAN_STATISTICS */ from mrq order by id, o_pos

SQL_ID  29yjg4sh71pgy, child number 0
-------------------------------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id
,str from bracket_strings connect by id = prior id and
substr(str,level,1) is not null and prior sys_guid() is not null ), mrq
as ( select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t
from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str
,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MATCH
SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s =
'(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')'
and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos
|| '","' || t || '","1840"' /*+ GATHER_PLAN_STATISTICS */ from mrq
order by id, o_pos

Plan hash value: 2214599770

-----------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                        | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem |
-----------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                 |                 |      1 |        |  40000 |00:00:11.54 |      40 |  50075 |  50075 |       |       |          |
|   1 |  SORT ORDER BY                   |                 |      1 |    100 |  40000 |00:00:11.54 |      40 |  50075 |  50075 |  2746K|   746K| 2440K (0)|
|   2 |   VIEW                           |                 |      1 |    100 |  40000 |00:00:10.81 |      40 |  50075 |  50075 |       |       |          |
|   3 |    MATCH RECOGNIZE SORT          |                 |      1 |    100 |  40000 |00:00:10.79 |      40 |  50075 |  50075 |   440M|  6922K|  163M (0)|
|   4 |     VIEW                         |                 |      1 |    100 |    200K|00:00:04.60 |      38 |      0 |      0 |       |       |          |
|*  5 |      CONNECT BY WITHOUT FILTERING|                 |      1 |        |    200K|00:00:04.48 |      38 |      0 |      0 |   267K|   267K|  237K (0)|
|   6 |       TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   5 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:38:40, written at 15:38:52
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00100        0.00000
First fetch             11.53        5.29             1       11.53400        5.29000
Write to file            0.08        0.09            41        0.00200        0.00220
Remaining fetches        0.01        0.00            40        0.00023        0.00000
Write plan               0.23        0.22             1        0.22600        0.22000
(Other)                  0.01        0.01             1        0.01200        0.01000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                   11.86        5.61            86        0.13795        0.06523
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:38:40, written at 15:38:52
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.07        0.09            41        0.00168        0.00220
(Other)       11.81        5.53             1       11.80800        5.53000
-------  ----------  ----------  ------------  -------------  -------------
Total         11.88        5.62            42        0.28279        0.13381
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to MRB_QRY.csv
Summary for W/D = 400/0 , bench_run_statistics_id = 21

Timer Set: Run_One, Constructed at 19 Feb 2017 15:38:40, written at 15:38:52
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run           11.89        5.64             1       11.88500        5.64000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total         11.89        5.64             2        5.94250        2.82000
-------  ----------  ----------  ------------  -------------  -------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","' || t.str || '","1783"' FROM bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets
(b.str)) t ORDER BY b.id, t.o_pos

SQL_ID  c7253fcvuj5vv, child number 0
-------------------------------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","'
|| t.o_pos || '","' || t.c_pos || '","' || t.str || '","1783"' FROM
bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets (b.str)) t
ORDER BY b.id, t.o_pos

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:00.91 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:00.91 |      38 |  2746K|   746K| 2440K (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:01.67 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:00.70 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:00.69 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:38:52, written at 15:38:53
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00300        0.00000
First fetch              0.91        0.88             1        0.90900        0.88000
Write to file            0.09        0.08            41        0.00207        0.00195
Remaining fetches        0.01        0.00            40        0.00015        0.00000
Write plan               0.23        0.23             1        0.22800        0.23000
(Other)                  0.01        0.01             1        0.01300        0.01000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    1.24        1.20            86        0.01447        0.01395
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:38:52, written at 15:38:53
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.07        0.06            41        0.00163        0.00146
(Other)        1.19        1.16             1        1.19000        1.16000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.26        1.22            42        0.02993        0.02905
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to PFB_QRY.csv
Summary for W/D = 400/0 , bench_run_statistics_id = 22

Timer Set: Run_One, Constructed at 19 Feb 2017 15:38:52, written at 15:38:53
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            1.27        1.22             1        1.26500        1.22000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.27        1.22             2        0.63250        0.61000
-------  ----------  ----------  ------------  -------------  -------------
bracket_strings truncated
400 copies of base string, 100 tokens

Timer Set: Setup, Constructed at 19 Feb 2017 15:38:53, written at 15:38:53
==========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer                      Elapsed         CPU         Calls       Ela/Call       CPU/Call
----------------------  ----------  ----------  ------------  -------------  -------------
Insert bracket_strings        0.03        0.00             1        0.02500        0.00000
Gather_Table_Stats            0.01        0.02             1        0.01200        0.02000
GRP_CNT                       0.00        0.00             1        0.00000        0.00000
(Other)                       0.00        0.00             1        0.00000        0.00000
----------------------  ----------  ----------  ------------  -------------  -------------
Total                         0.04        0.02             4        0.00925        0.00500
----------------------  ----------  ----------  ------------  -------------  -------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length (p_str) - Length (Replace (p_str, '(', '')); l_ob_lis SYS.ODCINum
berList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList := SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis b_l
is_type := b_lis_type(NULL); l_bra_lis bra_lis_type := bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF c_n_ob = 0
THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob); l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND (c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr (p_str, i, 1)
; IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b := n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1; l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN
D IF; l_b_lis(n_b).diff := n_ob - n_cb; END LOOP; FOR i IN 1..n_ob LOOP l_o_diff := l_b_lis (l_ob_lis(i)).diff; FOR j IN 1..n_cb LOOP IF l_b_lis (l_cb_lis(j)).pos < l_b_lis (l_ob_lis(i)).pos THEN CONT
INUE; END IF; IF l_o_diff = l_b_lis (l_cb_lis(j)).diff + 1 THEN l_bra_lis(i) := bra_rec_type (l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_lis(j)).pos, Substr (p_str, l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_
lis(j)).pos - l_b_lis(l_ob_lis(i)).pos + 1)); EXIT; END IF; END LOOP; END LOOP; RETURN l_bra_lis; END; SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","'
 || t.str || '","7164"' FROM bracket_strings b OUTER APPLY TABLE (Parse_Brackets (Nvl (b.str, ' '))) t ORDER BY b.id, t.o_pos

SQL_ID  br0fmq10jcy3s, child number 0
-------------------------------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN
bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length
(p_str) - Length (Replace (p_str, '(', '')); l_ob_lis
SYS.ODCINumberList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList
:= SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff
INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis
b_lis_type := b_lis_type(NULL); l_bra_lis bra_lis_type :=
bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb
PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF
c_n_ob = 0 THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob);
l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND
(c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr
(p_str, i, 1); IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b :=
n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1;
l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.21 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.21 |      38 |    21M|  1702K|   19M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:17.48 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.17 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.14 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:38:53, written at 15:38:55
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.04        0.03             1        0.03600        0.03000
First fetch              1.20        1.20             1        1.20100        1.20000
Write to file            0.25        0.26            41        0.00602        0.00634
Remaining fetches        0.02        0.01            40        0.00043        0.00025
Write plan               0.22        0.22             1        0.22300        0.22000
(Other)                  0.01        0.02             1        0.01400        0.02000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    1.74        1.74            86        0.02021        0.02023
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:38:53, written at 15:38:55
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.23        0.22           590        0.00038        0.00037
(Other)        1.52        1.52             1        1.52300        1.52000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.75        1.74           591        0.00296        0.00294
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to WFB_QRY.csv
Summary for W/D = 400/100 , bench_run_statistics_id = 23

Timer Set: Run_One, Constructed at 19 Feb 2017 15:38:53, written at 15:38:55
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            1.76        1.74             1        1.75700        1.74000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.76        1.74             2        0.87850        0.87000
-------  ----------  ----------  ------------  -------------  -------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str, regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by level <= length(str) - length(translate(str, 'x()', 'x')) and prior id =
 id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct, ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1 else -1 end, sum(case substr(str, pos, 1) when '(' then 1
end) over (partition by id order by pos), sum(case substr(str, pos, 1) when '(' then 1 else -1 end) over (partition by id order by pos) from d ), f ( id, str, pos, flag, l_ct, ct, o_ct ) as ( select i
d, str, pos, flag, l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over (partition by id, flag, ct order by pos) from p ) SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || id || '","' || m
in(case when flag = 1 then pos end) || '","' || min(case when flag = -1 then pos end) || '","' || Substr (str, min(case when flag = 1 then pos end), min(case when flag = -1 then pos end) - min(case wh
en flag = 1 then pos end) + 1) || '","5417"' /*+ GATHER_PLAN_STATISTICS */ from f group by id, str, ct, o_ct order by id, min(case when flag = 1 then pos end)

SQL_ID  4nyaapcc3r2p2, child number 0
-------------------------------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str,
regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by
level <= length(str) - length(translate(str, 'x()', 'x')) and prior id
= id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct,
ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1
else -1 end, sum(case substr(str, pos, 1) when '(' then 1 end) over
(partition by id order by pos), sum(case substr(str, pos, 1) when '('
then 1 else -1 end) over (partition by id order by pos) from d ), f (
id, str, pos, flag, l_ct, ct, o_ct ) as ( select id, str, pos, flag,
l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over
(partition by id, flag, ct order by pos) from p ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || min(case when flag = 1
then pos end) || '","' || min(case when flag = -1 then pos end) ||
'","' || Substr (str, min(case when flag = 1 then pos end), min(case
when flag = -1 then pos end) - min(case wh

Plan hash value: 2736674058

------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                           | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem | Used-Tmp|
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |                 |      1 |        |  40000 |00:00:15.69 |      43 |  40000 |  40000 |       |       |          |         |
|   1 |  SORT ORDER BY                      |                 |      1 |    100 |  40000 |00:00:15.69 |      43 |  40000 |  40000 |    21M|  1702K|   19M (0)|         |
|   2 |   HASH GROUP BY                     |                 |      1 |    100 |  40000 |00:00:15.62 |      43 |  40000 |  40000 |    85M|  7293K|   85M (0)|         |
|   3 |    VIEW                             |                 |      1 |    100 |  80000 |00:00:18.11 |      43 |  40000 |  40000 |       |       |          |         |
|   4 |     WINDOW SORT                     |                 |      1 |    100 |  80000 |00:00:18.07 |      43 |  40000 |  40000 |   175M|  4458K|   97M (1)|     157K|
|   5 |      VIEW                           |                 |      1 |    100 |  80000 |00:00:59.08 |      40 |  20000 |  20000 |       |       |          |         |
|   6 |       WINDOW SORT                   |                 |      1 |    100 |  80000 |00:00:59.04 |      40 |  20000 |  20000 |   175M|  4457K|   97M (0)|     157K|
|   7 |        VIEW                         |                 |      1 |    100 |  80000 |00:00:10.26 |      38 |      0 |      0 |       |       |          |         |
|*  8 |         CONNECT BY WITHOUT FILTERING|                 |      1 |        |  80000 |00:00:02.32 |      38 |      0 |      0 |   267K|   267K|  237K (0)|         |
|   9 |          TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |         |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   8 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:38:55, written at 15:39:11
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.02             1        0.00200        0.02000
First fetch             15.67       11.00             1       15.67100       11.00000
Write to file            0.25        0.25            41        0.00612        0.00610
Remaining fetches        0.01        0.00            40        0.00028        0.00000
Write plan               0.23        0.23             1        0.22900        0.23000
(Other)                  0.01        0.00             1        0.01300        0.00000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                   16.18       11.50            86        0.18810        0.13372
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:38:55, written at 15:39:11
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.23        0.18           590        0.00038        0.00031
(Other)       15.96       11.32             1       15.96300       11.32000
-------  ----------  ----------  ------------  -------------  -------------
Total         16.19       11.50           591        0.02739        0.01946
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to CBL_QRY.csv
Summary for W/D = 400/100 , bench_run_statistics_id = 24

Timer Set: Run_One, Constructed at 19 Feb 2017 15:38:55, written at 15:39:11
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run           16.20       11.50             1       16.19600       11.50000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total         16.20       11.50             2        8.09800        5.75000
-------  ----------  ----------  ------------  -------------  -------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id ,str from bracket_strings connect by id = prior id and substr(str,level,1) is not null and prior sys_guid() is not null ), mrq as (
select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str ,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MA
TCH SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s = '(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')' and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos || '","' || t || '","967"' /*+ GATHER_PLAN_STATISTICS */ from mrq order by id, o_pos

SQL_ID  aw7z77p51ycx4, child number 0
-------------------------------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id
,str from bracket_strings connect by id = prior id and
substr(str,level,1) is not null and prior sys_guid() is not null ), mrq
as ( select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t
from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str
,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MATCH
SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s =
'(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')'
and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos
|| '","' || t || '","967"' /*+ GATHER_PLAN_STATISTICS */ from mrq order
by id, o_pos

Plan hash value: 2214599770

-----------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                        | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem |
-----------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                 |                 |      1 |        |  40000 |00:04:01.53 |      40 |   4473K|  50075 |       |       |          |
|   1 |  SORT ORDER BY                   |                 |      1 |    100 |  40000 |00:04:01.53 |      40 |   4473K|  50075 |    21M|  1699K|   18M (0)|
|   2 |   VIEW                           |                 |      1 |    100 |  40000 |00:05:00.45 |      40 |   4473K|  50075 |       |       |          |
|   3 |    MATCH RECOGNIZE SORT          |                 |      1 |    100 |  40000 |00:05:00.43 |      40 |   4473K|  50075 |   440M|  6922K|  163M (0)|
|   4 |     VIEW                         |                 |      1 |    100 |    200K|00:00:04.63 |      38 |      0 |      0 |       |       |          |
|*  5 |      CONNECT BY WITHOUT FILTERING|                 |      1 |        |    200K|00:00:04.51 |      38 |      0 |      0 |   267K|   267K|  237K (0)|
|   6 |       TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   5 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:39:11, written at 15:43:13
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00100        0.00000
First fetch            241.52       22.50             1      241.51800       22.50000
Write to file            0.24        0.25            41        0.00595        0.00610
Remaining fetches        0.01        0.00            40        0.00028        0.00000
Write plan               0.24        0.23             1        0.23600        0.23000
(Other)                  0.01        0.02             1        0.01400        0.02000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                  242.02       23.00            86        2.81423        0.26744
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:39:11, written at 15:43:13
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.22        0.22           588        0.00037        0.00037
(Other)      241.82       22.80             1      241.81500       22.80000
-------  ----------  ----------  ------------  -------------  -------------
Total        242.04       23.02           589        0.41093        0.03908
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to MRB_QRY.csv
Summary for W/D = 400/100 , bench_run_statistics_id = 25

Timer Set: Run_One, Constructed at 19 Feb 2017 15:39:11, written at 15:43:13
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run          242.04       23.02             1      242.04300       23.02000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total        242.04       23.02             2      121.02150       11.51000
-------  ----------  ----------  ------------  -------------  -------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","' || t.str || '","5135"' FROM bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets
(b.str)) t ORDER BY b.id, t.o_pos

SQL_ID  fr3upcxcm744y, child number 0
-------------------------------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","'
|| t.o_pos || '","' || t.c_pos || '","' || t.str || '","5135"' FROM
bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets (b.str)) t
ORDER BY b.id, t.o_pos

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.17 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.17 |      38 |    21M|  1702K|   19M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:02.03 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.55 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.54 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:43:13, written at 15:43:15
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00300        0.00000
First fetch              1.16        1.17             1        1.16400        1.17000
Write to file            0.24        0.25            41        0.00595        0.00610
Remaining fetches        0.02        0.00            40        0.00038        0.00000
Write plan               0.23        0.23             1        0.23000        0.23000
(Other)                  0.01        0.02             1        0.01400        0.02000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    1.67        1.67            86        0.01942        0.01942
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:43:13, written at 15:43:15
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.22        0.19           590        0.00037        0.00032
(Other)        1.46        1.48             1        1.46300        1.48000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.68        1.67           591        0.00285        0.00283
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to PFB_QRY.csv
Summary for W/D = 400/100 , bench_run_statistics_id = 26

Timer Set: Run_One, Constructed at 19 Feb 2017 15:43:13, written at 15:43:15
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            1.69        1.67             1        1.69000        1.67000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.69        1.67             2        0.84500        0.83500
-------  ----------  ----------  ------------  -------------  -------------
bracket_strings truncated
400 copies of base string, 200 tokens

Timer Set: Setup, Constructed at 19 Feb 2017 15:43:15, written at 15:43:15
==========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                      Elapsed         CPU         Calls       Ela/Call       CPU/Call
----------------------  ----------  ----------  ------------  -------------  -------------
Insert bracket_strings        0.04        0.01             1        0.03600        0.01000
Gather_Table_Stats            0.01        0.02             1        0.01200        0.02000
GRP_CNT                       0.00        0.00             1        0.00000        0.00000
(Other)                       0.00        0.00             1        0.00000        0.00000
----------------------  ----------  ----------  ------------  -------------  -------------
Total                         0.05        0.03             4        0.01200        0.00750
----------------------  ----------  ----------  ------------  -------------  -------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length (p_str) - Length (Replace (p_str, '(', '')); l_ob_lis SYS.ODCINum
berList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList := SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis b_l
is_type := b_lis_type(NULL); l_bra_lis bra_lis_type := bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF c_n_ob = 0
THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob); l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND (c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr (p_str, i, 1)
; IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b := n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1; l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN
D IF; l_b_lis(n_b).diff := n_ob - n_cb; END LOOP; FOR i IN 1..n_ob LOOP l_o_diff := l_b_lis (l_ob_lis(i)).diff; FOR j IN 1..n_cb LOOP IF l_b_lis (l_cb_lis(j)).pos < l_b_lis (l_ob_lis(i)).pos THEN CONT
INUE; END IF; IF l_o_diff = l_b_lis (l_cb_lis(j)).diff + 1 THEN l_bra_lis(i) := bra_rec_type (l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_lis(j)).pos, Substr (p_str, l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_
lis(j)).pos - l_b_lis(l_ob_lis(i)).pos + 1)); EXIT; END IF; END LOOP; END LOOP; RETURN l_bra_lis; END; SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","'
 || t.str || '","6936"' FROM bracket_strings b OUTER APPLY TABLE (Parse_Brackets (Nvl (b.str, ' '))) t ORDER BY b.id, t.o_pos

SQL_ID  1jprs8j5tzgwc, child number 0
-------------------------------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN
bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length
(p_str) - Length (Replace (p_str, '(', '')); l_ob_lis
SYS.ODCINumberList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList
:= SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff
INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis
b_lis_type := b_lis_type(NULL); l_bra_lis bra_lis_type :=
bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb
PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF
c_n_ob = 0 THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob);
l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND
(c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr
(p_str, i, 1); IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b :=
n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1;
l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.47 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.47 |      38 |    34M|  2109K|   30M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:21.22 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.42 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.38 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:43:15, written at 15:43:17
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.04        0.03             1        0.03700        0.03000
First fetch              1.45        1.45             1        1.45100        1.45000
Write to file            0.37        0.39            41        0.00900        0.00951
Remaining fetches        0.02        0.00            40        0.00043        0.00000
Write plan               0.23        0.22             1        0.22600        0.22000
(Other)                  0.01        0.02             1        0.01100        0.02000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    2.11        2.11            86        0.02455        0.02453
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:43:15, written at 15:43:17
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.33        0.31           978        0.00033        0.00032
(Other)        1.80        1.82             1        1.79700        1.82000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.12        2.13           979        0.00217        0.00218
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to WFB_QRY.csv
Summary for W/D = 400/200 , bench_run_statistics_id = 27

Timer Set: Run_One, Constructed at 19 Feb 2017 15:43:15, written at 15:43:17
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            2.13        2.14             1        2.13200        2.14000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.13        2.14             2        1.06600        1.07000
-------  ----------  ----------  ------------  -------------  -------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str, regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by level <= length(str) - length(translate(str, 'x()', 'x')) and prior id =
 id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct, ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1 else -1 end, sum(case substr(str, pos, 1) when '(' then 1
end) over (partition by id order by pos), sum(case substr(str, pos, 1) when '(' then 1 else -1 end) over (partition by id order by pos) from d ), f ( id, str, pos, flag, l_ct, ct, o_ct ) as ( select i
d, str, pos, flag, l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over (partition by id, flag, ct order by pos) from p ) SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || id || '","' || m
in(case when flag = 1 then pos end) || '","' || min(case when flag = -1 then pos end) || '","' || Substr (str, min(case when flag = 1 then pos end), min(case when flag = -1 then pos end) - min(case wh
en flag = 1 then pos end) + 1) || '","2501"' /*+ GATHER_PLAN_STATISTICS */ from f group by id, str, ct, o_ct order by id, min(case when flag = 1 then pos end)

SQL_ID  8g8734hjxzdau, child number 0
-------------------------------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str,
regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by
level <= length(str) - length(translate(str, 'x()', 'x')) and prior id
= id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct,
ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1
else -1 end, sum(case substr(str, pos, 1) when '(' then 1 end) over
(partition by id order by pos), sum(case substr(str, pos, 1) when '('
then 1 else -1 end) over (partition by id order by pos) from d ), f (
id, str, pos, flag, l_ct, ct, o_ct ) as ( select id, str, pos, flag,
l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over
(partition by id, flag, ct order by pos) from p ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || min(case when flag = 1
then pos end) || '","' || min(case when flag = -1 then pos end) ||
'","' || Substr (str, min(case when flag = 1 then pos end), min(case
when flag = -1 then pos end) - min(case wh

Plan hash value: 2736674058

------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                           | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem | Used-Tmp|
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |                 |      1 |        |  40000 |00:00:16.86 |      43 |  40001 |  40001 |       |       |          |         |
|   1 |  SORT ORDER BY                      |                 |      1 |    100 |  40000 |00:00:16.86 |      43 |  40001 |  40001 |    34M|  2109K|   30M (0)|         |
|   2 |   HASH GROUP BY                     |                 |      1 |    100 |  40000 |00:00:16.79 |      43 |  40001 |  40001 |    85M|  7293K|   85M (0)|         |
|   3 |    VIEW                             |                 |      1 |    100 |  80000 |00:00:23.27 |      43 |  40001 |  40001 |       |       |          |         |
|   4 |     WINDOW SORT                     |                 |      1 |    100 |  80000 |00:00:23.22 |      43 |  40001 |  40001 |   175M|  4458K|   97M (1)|     157K|
|   5 |      VIEW                           |                 |      1 |    100 |  80000 |00:01:09.53 |      40 |  20000 |  20000 |       |       |          |         |
|   6 |       WINDOW SORT                   |                 |      1 |    100 |  80000 |00:01:09.50 |      40 |  20000 |  20000 |   175M|  4457K|   97M (0)|     157K|
|   7 |        VIEW                         |                 |      1 |    100 |  80000 |00:00:10.62 |      38 |      0 |      0 |       |       |          |         |
|*  8 |         CONNECT BY WITHOUT FILTERING|                 |      1 |        |  80000 |00:00:02.32 |      38 |      0 |      0 |   267K|   267K|  237K (0)|         |
|   9 |          TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |         |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   8 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:43:17, written at 15:43:35
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00200        0.00000
First fetch             16.85       11.72             1       16.84800       11.72000
Write to file            0.36        0.35            41        0.00880        0.00854
Remaining fetches        0.02        0.04            40        0.00053        0.00100
Write plan               0.23        0.23             1        0.23400        0.23000
(Other)                  0.01        0.02             1        0.01200        0.02000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                   17.48       12.36            86        0.20323        0.14372
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:43:17, written at 15:43:35
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.33        0.28           978        0.00034        0.00029
(Other)       17.16       12.10             1       17.15500       12.10000
-------  ----------  ----------  ------------  -------------  -------------
Total         17.49       12.38           979        0.01786        0.01265
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to CBL_QRY.csv
Summary for W/D = 400/200 , bench_run_statistics_id = 28

Timer Set: Run_One, Constructed at 19 Feb 2017 15:43:17, written at 15:43:35
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run           17.50       12.38             1       17.49700       12.38000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total         17.50       12.38             2        8.74850        6.19000
-------  ----------  ----------  ------------  -------------  -------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id ,str from bracket_strings connect by id = prior id and substr(str,level,1) is not null and prior sys_guid() is not null ), mrq as (
select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str ,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MA
TCH SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s = '(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')' and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos || '","' || t || '","9625"' /*+ GATHER_PLAN_STATISTICS */ from mrq order by id, o_pos

SQL_ID  fg57u3d2k08yy, child number 0
-------------------------------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id
,str from bracket_strings connect by id = prior id and
substr(str,level,1) is not null and prior sys_guid() is not null ), mrq
as ( select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t
from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str
,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MATCH
SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s =
'(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')'
and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos
|| '","' || t || '","9625"' /*+ GATHER_PLAN_STATISTICS */ from mrq
order by id, o_pos

Plan hash value: 2214599770

-----------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                        | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem |
-----------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                 |                 |      1 |        |  40000 |00:06:03.40 |      40 |   7646K|  50075 |       |       |          |
|   1 |  SORT ORDER BY                   |                 |      1 |    100 |  40000 |00:06:03.40 |      40 |   7646K|  50075 |    34M|  2107K|   30M (0)|
|   2 |   VIEW                           |                 |      1 |    100 |  40000 |00:07:04.52 |      40 |   7646K|  50075 |       |       |          |
|   3 |    MATCH RECOGNIZE SORT          |                 |      1 |    100 |  40000 |00:07:04.50 |      40 |   7646K|  50075 |   440M|  6922K|  163M (0)|
|   4 |     VIEW                         |                 |      1 |    100 |    200K|00:00:04.63 |      38 |      0 |      0 |       |       |          |
|*  5 |      CONNECT BY WITHOUT FILTERING|                 |      1 |        |    200K|00:00:04.51 |      38 |      0 |      0 |   267K|   267K|  237K (0)|
|   6 |       TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   5 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:43:35, written at 15:49:39
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00100        0.00000
First fetch            363.39       33.50             1      363.39000       33.50000
Write to file            0.37        0.39            41        0.00893        0.00951
Remaining fetches        0.02        0.00            40        0.00040        0.00000
Write plan               0.25        0.25             1        0.24700        0.25000
(Other)                  0.01        0.00             1        0.01200        0.00000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                  364.03       34.14            86        4.23293        0.39698
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:43:35, written at 15:49:39
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.34        0.34           978        0.00035        0.00035
(Other)      363.70       33.80             1      363.70000       33.80000
-------  ----------  ----------  ------------  -------------  -------------
Total        364.04       34.14           979        0.37185        0.03487
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to MRB_QRY.csv
Summary for W/D = 400/200 , bench_run_statistics_id = 29

Timer Set: Run_One, Constructed at 19 Feb 2017 15:43:35, written at 15:49:39
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run          364.05       34.16             1      364.05200       34.16000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total        364.05       34.16             2      182.02600       17.08000
-------  ----------  ----------  ------------  -------------  -------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","' || t.str || '","1829"' FROM bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets
(b.str)) t ORDER BY b.id, t.o_pos

SQL_ID  8f6pc1r4ksmvn, child number 0
-------------------------------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","'
|| t.o_pos || '","' || t.c_pos || '","' || t.str || '","1829"' FROM
bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets (b.str)) t
ORDER BY b.id, t.o_pos

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.39 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.39 |      38 |    34M|  2109K|   30M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:02.14 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.67 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.66 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:49:39, written at 15:49:41
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00300        0.00000
First fetch              1.38        1.38             1        1.37600        1.38000
Write to file            0.36        0.39            41        0.00878        0.00951
Remaining fetches        0.02        0.00            40        0.00050        0.00000
Write plan               0.23        0.23             1        0.23000        0.23000
(Other)                  0.01        0.01             1        0.01300        0.01000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    2.00        2.01            86        0.02328        0.02337
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:49:39, written at 15:49:41
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.34        0.39           978        0.00035        0.00040
(Other)        1.67        1.62             1        1.67300        1.62000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.01        2.01           979        0.00206        0.00205
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to PFB_QRY.csv
Summary for W/D = 400/200 , bench_run_statistics_id = 30

Timer Set: Run_One, Constructed at 19 Feb 2017 15:49:39, written at 15:49:41
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            2.02        2.03             1        2.02200        2.03000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.02        2.03             2        1.01100        1.01500
-------  ----------  ----------  ------------  -------------  -------------
bracket_strings truncated
400 copies of base string, 300 tokens

Timer Set: Setup, Constructed at 19 Feb 2017 15:49:41, written at 15:49:41
==========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                      Elapsed         CPU         Calls       Ela/Call       CPU/Call
----------------------  ----------  ----------  ------------  -------------  -------------
Insert bracket_strings        0.02        0.01             1        0.02100        0.01000
Gather_Table_Stats            0.05        0.02             1        0.05000        0.02000
GRP_CNT                       0.00        0.00             1        0.00000        0.00000
(Other)                       0.00        0.00             1        0.00000        0.00000
----------------------  ----------  ----------  ------------  -------------  -------------
Total                         0.07        0.03             4        0.01775        0.00750
----------------------  ----------  ----------  ------------  -------------  -------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length (p_str) - Length (Replace (p_str, '(', '')); l_ob_lis SYS.ODCINum
berList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList := SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis b_l
is_type := b_lis_type(NULL); l_bra_lis bra_lis_type := bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF c_n_ob = 0
THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob); l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND (c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr (p_str, i, 1)
; IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b := n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1; l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN
D IF; l_b_lis(n_b).diff := n_ob - n_cb; END LOOP; FOR i IN 1..n_ob LOOP l_o_diff := l_b_lis (l_ob_lis(i)).diff; FOR j IN 1..n_cb LOOP IF l_b_lis (l_cb_lis(j)).pos < l_b_lis (l_ob_lis(i)).pos THEN CONT
INUE; END IF; IF l_o_diff = l_b_lis (l_cb_lis(j)).diff + 1 THEN l_bra_lis(i) := bra_rec_type (l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_lis(j)).pos, Substr (p_str, l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_
lis(j)).pos - l_b_lis(l_ob_lis(i)).pos + 1)); EXIT; END IF; END LOOP; END LOOP; RETURN l_bra_lis; END; SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","'
 || t.str || '","6820"' FROM bracket_strings b OUTER APPLY TABLE (Parse_Brackets (Nvl (b.str, ' '))) t ORDER BY b.id, t.o_pos

SQL_ID  b1352bnw3pqt7, child number 0
-------------------------------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN
bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length
(p_str) - Length (Replace (p_str, '(', '')); l_ob_lis
SYS.ODCINumberList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList
:= SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff
INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis
b_lis_type := b_lis_type(NULL); l_bra_lis bra_lis_type :=
bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb
PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF
c_n_ob = 0 THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob);
l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND
(c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr
(p_str, i, 1); IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b :=
n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1;
l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.57 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.57 |      38 |    42M|  2315K|   38M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:22.35 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.51 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.47 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:49:41, written at 15:49:43
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.04        0.04             1        0.03900        0.04000
First fetch              1.55        1.55             1        1.55000        1.55000
Write to file            0.44        0.45            41        0.01071        0.01098
Remaining fetches        0.02        0.00            40        0.00050        0.00000
Write plan               0.23        0.24             1        0.22900        0.24000
(Other)                  0.01        0.02             1        0.01300        0.02000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    2.29        2.30            86        0.02663        0.02674
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:49:41, written at 15:49:43
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.40        0.43         1,201        0.00033        0.00036
(Other)        1.90        1.87             1        1.90000        1.87000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.30        2.30         1,202        0.00191        0.00191
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to WFB_QRY.csv
Summary for W/D = 400/300 , bench_run_statistics_id = 31

Timer Set: Run_One, Constructed at 19 Feb 2017 15:49:41, written at 15:49:43
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            2.31        2.30             1        2.30900        2.30000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.31        2.30             2        1.15450        1.15000
-------  ----------  ----------  ------------  -------------  -------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str, regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by level <= length(str) - length(translate(str, 'x()', 'x')) and prior id =
 id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct, ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1 else -1 end, sum(case substr(str, pos, 1) when '(' then 1
end) over (partition by id order by pos), sum(case substr(str, pos, 1) when '(' then 1 else -1 end) over (partition by id order by pos) from d ), f ( id, str, pos, flag, l_ct, ct, o_ct ) as ( select i
d, str, pos, flag, l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over (partition by id, flag, ct order by pos) from p ) SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || id || '","' || m
in(case when flag = 1 then pos end) || '","' || min(case when flag = -1 then pos end) || '","' || Substr (str, min(case when flag = 1 then pos end), min(case when flag = -1 then pos end) - min(case wh
en flag = 1 then pos end) + 1) || '","5456"' /*+ GATHER_PLAN_STATISTICS */ from f group by id, str, ct, o_ct order by id, min(case when flag = 1 then pos end)

SQL_ID  1szwdw5kbh7gf, child number 0
-------------------------------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str,
regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by
level <= length(str) - length(translate(str, 'x()', 'x')) and prior id
= id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct,
ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1
else -1 end, sum(case substr(str, pos, 1) when '(' then 1 end) over
(partition by id order by pos), sum(case substr(str, pos, 1) when '('
then 1 else -1 end) over (partition by id order by pos) from d ), f (
id, str, pos, flag, l_ct, ct, o_ct ) as ( select id, str, pos, flag,
l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over
(partition by id, flag, ct order by pos) from p ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || min(case when flag = 1
then pos end) || '","' || min(case when flag = -1 then pos end) ||
'","' || Substr (str, min(case when flag = 1 then pos end), min(case
when flag = -1 then pos end) - min(case wh

Plan hash value: 2736674058

------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                           | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem | Used-Tmp|
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |                 |      1 |        |  40000 |00:00:16.63 |      43 |  40001 |  40001 |       |       |          |         |
|   1 |  SORT ORDER BY                      |                 |      1 |    100 |  40000 |00:00:16.63 |      43 |  40001 |  40001 |    42M|  2315K|   38M (0)|         |
|   2 |   HASH GROUP BY                     |                 |      1 |    100 |  40000 |00:00:16.57 |      43 |  40001 |  40001 |    85M|  7293K|   85M (0)|         |
|   3 |    VIEW                             |                 |      1 |    100 |  80000 |00:00:40.45 |      43 |  40001 |  40001 |       |       |          |         |
|   4 |     WINDOW SORT                     |                 |      1 |    100 |  80000 |00:00:40.40 |      43 |  40001 |  40001 |   175M|  4458K|   97M (1)|     157K|
|   5 |      VIEW                           |                 |      1 |    100 |  80000 |00:01:45.56 |      40 |  20000 |  20000 |       |       |          |         |
|   6 |       WINDOW SORT                   |                 |      1 |    100 |  80000 |00:01:45.52 |      40 |  20000 |  20000 |   175M|  4457K|   97M (0)|     157K|
|   7 |        VIEW                         |                 |      1 |    100 |  80000 |00:00:11.05 |      38 |      0 |      0 |       |       |          |         |
|*  8 |         CONNECT BY WITHOUT FILTERING|                 |      1 |        |  80000 |00:00:02.29 |      38 |      0 |      0 |   267K|   267K|  237K (0)|         |
|   9 |          TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |         |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   8 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:49:43, written at 15:50:01
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.02             1        0.00200        0.02000
First fetch             16.62       11.81             1       16.61500       11.81000
Write to file            0.43        0.42            41        0.01056        0.01024
Remaining fetches        0.02        0.03            40        0.00055        0.00075
Write plan               0.23        0.24             1        0.23100        0.24000
(Other)                  0.01        0.00             1        0.01200        0.00000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                   17.32       12.52            86        0.20134        0.14558
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:49:43, written at 15:50:01
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.40        0.35         1,201        0.00033        0.00029
(Other)       16.93       12.18             1       16.92600       12.18000
-------  ----------  ----------  ------------  -------------  -------------
Total         17.33       12.53         1,202        0.01442        0.01042
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to CBL_QRY.csv
Summary for W/D = 400/300 , bench_run_statistics_id = 32

Timer Set: Run_One, Constructed at 19 Feb 2017 15:49:43, written at 15:50:01
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run           17.34       12.53             1       17.33500       12.53000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total         17.34       12.53             2        8.66750        6.26500
-------  ----------  ----------  ------------  -------------  -------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id ,str from bracket_strings connect by id = prior id and substr(str,level,1) is not null and prior sys_guid() is not null ), mrq as (
select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str ,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MA
TCH SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s = '(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')' and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos || '","' || t || '","7363"' /*+ GATHER_PLAN_STATISTICS */ from mrq order by id, o_pos

SQL_ID  drv36mcawpt8c, child number 0
-------------------------------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id
,str from bracket_strings connect by id = prior id and
substr(str,level,1) is not null and prior sys_guid() is not null ), mrq
as ( select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t
from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str
,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MATCH
SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s =
'(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')'
and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos
|| '","' || t || '","7363"' /*+ GATHER_PLAN_STATISTICS */ from mrq
order by id, o_pos

Plan hash value: 2214599770

-----------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                        | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem |
-----------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                 |                 |      1 |        |  40000 |00:06:16.12 |      40 |   7920K|  50075 |       |       |          |
|   1 |  SORT ORDER BY                   |                 |      1 |    100 |  40000 |00:06:16.12 |      40 |   7920K|  50075 |    42M|  2313K|   38M (0)|
|   2 |   VIEW                           |                 |      1 |    100 |  40000 |00:08:47.49 |      40 |   7920K|  50075 |       |       |          |
|   3 |    MATCH RECOGNIZE SORT          |                 |      1 |    100 |  40000 |00:08:47.46 |      40 |   7920K|  50075 |   440M|  6922K|  163M (0)|
|   4 |     VIEW                         |                 |      1 |    100 |    200K|00:00:04.65 |      38 |      0 |      0 |       |       |          |
|*  5 |      CONNECT BY WITHOUT FILTERING|                 |      1 |        |    200K|00:00:04.53 |      38 |      0 |      0 |   267K|   267K|  237K (0)|
|   6 |       TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   5 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:50:01, written at 15:56:17
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00100        0.00000
First fetch            376.11       37.98             1      376.11200       37.98000
Write to file            0.45        0.45            41        0.01098        0.01098
Remaining fetches        0.02        0.01            40        0.00053        0.00025
Write plan               0.23        0.23             1        0.23300        0.23000
(Other)                  0.01        0.00             1        0.01200        0.00000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                  376.83       38.67            86        4.38173        0.44965
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:50:01, written at 15:56:17
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.43        0.43         1,201        0.00035        0.00036
(Other)      376.42       38.24             1      376.41600       38.24000
-------  ----------  ----------  ------------  -------------  -------------
Total        376.84       38.67         1,202        0.31351        0.03217
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to MRB_QRY.csv
Summary for W/D = 400/300 , bench_run_statistics_id = 33

Timer Set: Run_One, Constructed at 19 Feb 2017 15:50:01, written at 15:56:17
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run          376.85       38.69             1      376.84800       38.69000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total        376.85       38.69             2      188.42400       19.34500
-------  ----------  ----------  ------------  -------------  -------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","' || t.str || '","6210"' FROM bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets
(b.str)) t ORDER BY b.id, t.o_pos

SQL_ID  f7fz8bbmuy3c9, child number 0
-------------------------------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","'
|| t.o_pos || '","' || t.c_pos || '","' || t.str || '","6210"' FROM
bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets (b.str)) t
ORDER BY b.id, t.o_pos

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.52 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.52 |      38 |    42M|  2315K|   38M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:02.32 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.80 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.78 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:56:17, written at 15:56:20
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00300        0.00000
First fetch              1.50        1.52             1        1.50400        1.52000
Write to file            0.44        0.45            41        0.01066        0.01098
Remaining fetches        0.02        0.00            40        0.00040        0.00000
Write plan               0.23        0.22             1        0.22500        0.22000
(Other)                  0.01        0.01             1        0.01300        0.01000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    2.20        2.20            86        0.02556        0.02558
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:56:17, written at 15:56:20
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.40        0.42         1,201        0.00033        0.00035
(Other)        1.82        1.80             1        1.81500        1.80000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.21        2.22         1,202        0.00184        0.00185
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to PFB_QRY.csv
Summary for W/D = 400/300 , bench_run_statistics_id = 34

Timer Set: Run_One, Constructed at 19 Feb 2017 15:56:17, written at 15:56:20
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000008), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            2.22        2.22             1        2.21900        2.22000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.22        2.22             2        1.10950        1.11000
-------  ----------  ----------  ------------  -------------  -------------
bracket_strings truncated
400 copies of base string, 400 tokens

Timer Set: Setup, Constructed at 19 Feb 2017 15:56:20, written at 15:56:20
==========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                      Elapsed         CPU         Calls       Ela/Call       CPU/Call
----------------------  ----------  ----------  ------------  -------------  -------------
Insert bracket_strings        0.01        0.00             1        0.01200        0.00000
Gather_Table_Stats            0.04        0.02             1        0.04400        0.02000
GRP_CNT                       0.00        0.00             1        0.00000        0.00000
(Other)                       0.00        0.00             1        0.00000        0.00000
----------------------  ----------  ----------  ------------  -------------  -------------
Total                         0.06        0.02             4        0.01400        0.00500
----------------------  ----------  ----------  ------------  -------------  -------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length (p_str) - Length (Replace (p_str, '(', '')); l_ob_lis SYS.ODCINum
berList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList := SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis b_l
is_type := b_lis_type(NULL); l_bra_lis bra_lis_type := bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF c_n_ob = 0
THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob); l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND (c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr (p_str, i, 1)
; IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b := n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1; l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN
D IF; l_b_lis(n_b).diff := n_ob - n_cb; END LOOP; FOR i IN 1..n_ob LOOP l_o_diff := l_b_lis (l_ob_lis(i)).diff; FOR j IN 1..n_cb LOOP IF l_b_lis (l_cb_lis(j)).pos < l_b_lis (l_ob_lis(i)).pos THEN CONT
INUE; END IF; IF l_o_diff = l_b_lis (l_cb_lis(j)).diff + 1 THEN l_bra_lis(i) := bra_rec_type (l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_lis(j)).pos, Substr (p_str, l_b_lis(l_ob_lis(i)).pos, l_b_lis(l_cb_
lis(j)).pos - l_b_lis(l_ob_lis(i)).pos + 1)); EXIT; END IF; END LOOP; END LOOP; RETURN l_bra_lis; END; SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","'
 || t.str || '","5669"' FROM bracket_strings b OUTER APPLY TABLE (Parse_Brackets (Nvl (b.str, ' '))) t ORDER BY b.id, t.o_pos

SQL_ID  2zufxafbrurmb, child number 0
-------------------------------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN
bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length
(p_str) - Length (Replace (p_str, '(', '')); l_ob_lis
SYS.ODCINumberList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList
:= SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff
INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis
b_lis_type := b_lis_type(NULL); l_bra_lis bra_lis_type :=
bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb
PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF
c_n_ob = 0 THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob);
l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND
(c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr
(p_str, i, 1); IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b :=
n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1;
l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.59 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.59 |      38 |    45M|  2378K|   40M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:22.50 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.53 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.50 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 15:56:20, written at 15:56:22
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.04        0.03             1        0.03700        0.03000
First fetch              1.58        1.58             1        1.57600        1.58000
Write to file            0.46        0.47            41        0.01120        0.01146
Remaining fetches        0.02        0.02            40        0.00055        0.00050
Write plan               0.23        0.22             1        0.22700        0.22000
(Other)                  0.01        0.01             1        0.01200        0.01000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    2.33        2.33            86        0.02713        0.02709
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:56:20, written at 15:56:22
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.02 (0.000020), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.42        0.44         1,286        0.00033        0.00034
(Other)        1.93        1.90             1        1.92600        1.90000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.34        2.34         1,287        0.00182        0.00182
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to WFB_QRY.csv
Summary for W/D = 400/400 , bench_run_statistics_id = 35

Timer Set: Run_One, Constructed at 19 Feb 2017 15:56:20, written at 15:56:22
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            2.35        2.36             1        2.35200        2.36000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.35        2.36             2        1.17600        1.18000
-------  ----------  ----------  ------------  -------------  -------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str, regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by level <= length(str) - length(translate(str, 'x()', 'x')) and prior id =
 id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct, ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1 else -1 end, sum(case substr(str, pos, 1) when '(' then 1
end) over (partition by id order by pos), sum(case substr(str, pos, 1) when '(' then 1 else -1 end) over (partition by id order by pos) from d ), f ( id, str, pos, flag, l_ct, ct, o_ct ) as ( select i
d, str, pos, flag, l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over (partition by id, flag, ct order by pos) from p ) SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || id || '","' || m
in(case when flag = 1 then pos end) || '","' || min(case when flag = -1 then pos end) || '","' || Substr (str, min(case when flag = 1 then pos end), min(case when flag = -1 then pos end) - min(case wh
en flag = 1 then pos end) + 1) || '","6993"' /*+ GATHER_PLAN_STATISTICS */ from f group by id, str, ct, o_ct order by id, min(case when flag = 1 then pos end)

SQL_ID  17cqmwjju0v0r, child number 0
-------------------------------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str,
regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by
level <= length(str) - length(translate(str, 'x()', 'x')) and prior id
= id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct,
ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1
else -1 end, sum(case substr(str, pos, 1) when '(' then 1 end) over
(partition by id order by pos), sum(case substr(str, pos, 1) when '('
then 1 else -1 end) over (partition by id order by pos) from d ), f (
id, str, pos, flag, l_ct, ct, o_ct ) as ( select id, str, pos, flag,
l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over
(partition by id, flag, ct order by pos) from p ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || min(case when flag = 1
then pos end) || '","' || min(case when flag = -1 then pos end) ||
'","' || Substr (str, min(case when flag = 1 then pos end), min(case
when flag = -1 then pos end) - min(case wh

Plan hash value: 2736674058

------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                           | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem | Used-Tmp|
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |                 |      1 |        |  40000 |00:00:18.15 |      43 |  40001 |  40001 |       |       |          |         |
|   1 |  SORT ORDER BY                      |                 |      1 |    100 |  40000 |00:00:18.15 |      43 |  40001 |  40001 |    45M|  2378K|   40M (0)|         |
|   2 |   HASH GROUP BY                     |                 |      1 |    100 |  40000 |00:00:18.12 |      43 |  40001 |  40001 |    85M|  7293K|   85M (0)|         |
|   3 |    VIEW                             |                 |      1 |    100 |  80000 |00:00:56.48 |      43 |  40001 |  40001 |       |       |          |         |
|   4 |     WINDOW SORT                     |                 |      1 |    100 |  80000 |00:00:56.43 |      43 |  40001 |  40001 |   175M|  4458K|   97M (1)|     157K|
|   5 |      VIEW                           |                 |      1 |    100 |  80000 |00:01:38.80 |      40 |  20000 |  20000 |       |       |          |         |
|   6 |       WINDOW SORT                   |                 |      1 |    100 |  80000 |00:01:38.75 |      40 |  20000 |  20000 |   175M|  4457K|   97M (0)|     157K|
|   7 |        VIEW                         |                 |      1 |    100 |  80000 |00:00:11.18 |      38 |      0 |      0 |       |       |          |         |
|*  8 |         CONNECT BY WITHOUT FILTERING|                 |      1 |        |  80000 |00:00:02.30 |      38 |      0 |      0 |   267K|   267K|  237K (0)|         |
|   9 |          TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |         |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   8 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:56:22, written at 15:56:41
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00200        0.00000
First fetch             18.14       11.91             1       18.14000       11.91000
Write to file            0.44        0.43            41        0.01071        0.01049
Remaining fetches        0.02        0.02            40        0.00053        0.00050
Write plan               0.23        0.24             1        0.22600        0.24000
(Other)                  0.01        0.01             1        0.01200        0.01000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                   18.84       12.61            86        0.21907        0.14663
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:56:22, written at 15:56:41
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.41        0.40         1,286        0.00032        0.00031
(Other)       18.48       12.21             1       18.47800       12.21000
-------  ----------  ----------  ------------  -------------  -------------
Total         18.89       12.61         1,287        0.01468        0.00980
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to CBL_QRY.csv
Summary for W/D = 400/400 , bench_run_statistics_id = 36

Timer Set: Run_One, Constructed at 19 Feb 2017 15:56:22, written at 15:56:41
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run           18.90       12.62             1       18.89700       12.62000
(Other)        0.00        0.00             1        0.00100        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total         18.90       12.62             2        9.44900        6.31000
-------  ----------  ----------  ------------  -------------  -------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id ,str from bracket_strings connect by id = prior id and substr(str,level,1) is not null and prior sys_guid() is not null ), mrq as (
select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str ,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MA
TCH SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s = '(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')' and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos || '","' || t || '","5707"' /*+ GATHER_PLAN_STATISTICS */ from mrq order by id, o_pos

SQL_ID  d2b29cut9w45p, child number 0
-------------------------------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id
,str from bracket_strings connect by id = prior id and
substr(str,level,1) is not null and prior sys_guid() is not null ), mrq
as ( select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t
from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str
,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MATCH
SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s =
'(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')'
and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos
|| '","' || t || '","5707"' /*+ GATHER_PLAN_STATISTICS */ from mrq
order by id, o_pos

Plan hash value: 2214599770

-----------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                        | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem |
-----------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                 |                 |      1 |        |  40000 |00:06:12.68 |      40 |   7920K|  50075 |       |       |          |
|   1 |  SORT ORDER BY                   |                 |      1 |    100 |  40000 |00:06:12.68 |      40 |   7920K|  50075 |    45M|  2376K|   40M (0)|
|   2 |   VIEW                           |                 |      1 |    100 |  40000 |00:06:44.17 |      40 |   7920K|  50075 |       |       |          |
|   3 |    MATCH RECOGNIZE SORT          |                 |      1 |    100 |  40000 |00:06:44.14 |      40 |   7920K|  50075 |   440M|  6922K|  163M (0)|
|   4 |     VIEW                         |                 |      1 |    100 |    200K|00:00:04.59 |      38 |      0 |      0 |       |       |          |
|*  5 |      CONNECT BY WITHOUT FILTERING|                 |      1 |        |    200K|00:00:04.47 |      38 |      0 |      0 |   267K|   267K|  237K (0)|
|   6 |       TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   5 - access("ID"=PRIOR NULL)


Timer Set: Cursor, Constructed at 19 Feb 2017 15:56:41, written at 16:02:54
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00100        0.00000
First fetch            372.67       38.08             1      372.67300       38.08000
Write to file            0.45        0.44            41        0.01102        0.01073
Remaining fetches        0.02        0.02            40        0.00048        0.00050
Write plan               0.23        0.24             1        0.22800        0.24000
(Other)                  0.01        0.02             1        0.01300        0.02000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                  373.39       38.80            86        4.34170        0.45116
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 15:56:41, written at 16:02:54
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.42        0.44         1,286        0.00033        0.00034
(Other)      372.97       38.36             1      372.97400       38.36000
-------  ----------  ----------  ------------  -------------  -------------
Total        373.40       38.80         1,287        0.29013        0.03015
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to MRB_QRY.csv
Summary for W/D = 400/400 , bench_run_statistics_id = 37

Timer Set: Run_One, Constructed at 19 Feb 2017 15:56:41, written at 16:02:54
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run          373.41       38.80             1      373.40500       38.80000
(Other)        0.00        0.00             1        0.00100        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total        373.41       38.80             2      186.70300       19.40000
-------  ----------  ----------  ------------  -------------  -------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","' || t.o_pos || '","' || t.c_pos || '","' || t.str || '","7767"' FROM bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets
(b.str)) t ORDER BY b.id, t.o_pos

SQL_ID  7th4gc4hgx9my, child number 0
-------------------------------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","'
|| t.o_pos || '","' || t.c_pos || '","' || t.str || '","7767"' FROM
bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets (b.str)) t
ORDER BY b.id, t.o_pos

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.54 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.54 |      38 |    45M|  2378K|   40M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:02.30 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.79 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.77 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Timer Set: Cursor, Constructed at 19 Feb 2017 16:02:54, written at 16:02:57
===========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer                 Elapsed         CPU         Calls       Ela/Call       CPU/Call
-----------------  ----------  ----------  ------------  -------------  -------------
Pre SQL                  0.00        0.00             1        0.00000        0.00000
Open cursor              0.00        0.00             1        0.00300        0.00000
First fetch              1.52        1.54             1        1.52400        1.54000
Write to file            0.45        0.46            41        0.01088        0.01122
Remaining fetches        0.02        0.00            40        0.00053        0.00000
Write plan               0.22        0.22             1        0.21700        0.22000
(Other)                  0.01        0.01             1        0.01200        0.01000
-----------------  ----------  ----------  ------------  -------------  -------------
Total                    2.22        2.23            86        0.02585        0.02593
-----------------  ----------  ----------  ------------  -------------  -------------

Timer Set: File Writer, Constructed at 19 Feb 2017 16:02:54, written at 16:02:57
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000006), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.42        0.42         1,286        0.00033        0.00033
(Other)        1.82        1.81             1        1.81500        1.81000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.23        2.23         1,287        0.00174        0.00173
-------  ----------  ----------  ------------  -------------  -------------
40001 rows written to PFB_QRY.csv
Summary for W/D = 400/400 , bench_run_statistics_id = 38

Timer Set: Run_One, Constructed at 19 Feb 2017 16:02:54, written at 16:02:57
============================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Run            2.24        2.25             1        2.24300        2.25000
(Other)        0.00        0.00             1        0.00000        0.00000
-------  ----------  ----------  ------------  -------------  -------------
Total          2.24        2.25             2        1.12150        1.12500
-------  ----------  ----------  ------------  -------------  -------------

Distinct Plans
==============
CBL_QRY: 1/5 (1 of 1)
SQL_ID  17cqmwjju0v0r, child number 0
-------------------------------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str,
regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by
level <= length(str) - length(translate(str, 'x()', 'x')) and prior id
= id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct,
ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1
else -1 end, sum(case substr(str, pos, 1) when '(' then 1 end) over
(partition by id order by pos), sum(case substr(str, pos, 1) when '('
then 1 else -1 end) over (partition by id order by pos) from d ), f (
id, str, pos, flag, l_ct, ct, o_ct ) as ( select id, str, pos, flag,
l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over
(partition by id, flag, ct order by pos) from p ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || min(case when flag = 1
then pos end) || '","' || min(case when flag = -1 then pos end) ||
'","' || Substr (str, min(case when flag = 1 then pos end), min(case
when flag = -1 then pos end) - min(case wh

Plan hash value: 2736674058

------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                           | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem | Used-Tmp|
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |                 |      1 |        |  40000 |00:00:18.15 |      43 |  40001 |  40001 |       |       |          |         |
|   1 |  SORT ORDER BY                      |                 |      1 |    100 |  40000 |00:00:18.15 |      43 |  40001 |  40001 |    45M|  2378K|   40M (0)|         |
|   2 |   HASH GROUP BY                     |                 |      1 |    100 |  40000 |00:00:18.12 |      43 |  40001 |  40001 |    85M|  7293K|   85M (0)|         |
|   3 |    VIEW                             |                 |      1 |    100 |  80000 |00:00:56.48 |      43 |  40001 |  40001 |       |       |          |         |
|   4 |     WINDOW SORT                     |                 |      1 |    100 |  80000 |00:00:56.43 |      43 |  40001 |  40001 |   175M|  4458K|   97M (1)|     157K|
|   5 |      VIEW                           |                 |      1 |    100 |  80000 |00:01:38.80 |      40 |  20000 |  20000 |       |       |          |         |
|   6 |       WINDOW SORT                   |                 |      1 |    100 |  80000 |00:01:38.75 |      40 |  20000 |  20000 |   175M|  4457K|   97M (0)|     157K|
|   7 |        VIEW                         |                 |      1 |    100 |  80000 |00:00:11.18 |      38 |      0 |      0 |       |       |          |         |
|*  8 |         CONNECT BY WITHOUT FILTERING|                 |      1 |        |  80000 |00:00:02.30 |      38 |      0 |      0 |   267K|   267K|  237K (0)|         |
|   9 |          TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |         |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   8 - access("ID"=PRIOR NULL)

MRB_QRY: 1/5 (1 of 1)
SQL_ID  d2b29cut9w45p, child number 0
-------------------------------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id
,str from bracket_strings connect by id = prior id and
substr(str,level,1) is not null and prior sys_guid() is not null ), mrq
as ( select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t
from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str
,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MATCH
SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s =
'(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')'
and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos
|| '","' || t || '","5707"' /*+ GATHER_PLAN_STATISTICS */ from mrq
order by id, o_pos

Plan hash value: 2214599770

-----------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                        | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem |
-----------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                 |                 |      1 |        |  40000 |00:06:12.68 |      40 |   7920K|  50075 |       |       |          |
|   1 |  SORT ORDER BY                   |                 |      1 |    100 |  40000 |00:06:12.68 |      40 |   7920K|  50075 |    45M|  2376K|   40M (0)|
|   2 |   VIEW                           |                 |      1 |    100 |  40000 |00:06:44.17 |      40 |   7920K|  50075 |       |       |          |
|   3 |    MATCH RECOGNIZE SORT          |                 |      1 |    100 |  40000 |00:06:44.14 |      40 |   7920K|  50075 |   440M|  6922K|  163M (0)|
|   4 |     VIEW                         |                 |      1 |    100 |    200K|00:00:04.59 |      38 |      0 |      0 |       |       |          |
|*  5 |      CONNECT BY WITHOUT FILTERING|                 |      1 |        |    200K|00:00:04.47 |      38 |      0 |      0 |   267K|   267K|  237K (0)|
|   6 |       TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   5 - access("ID"=PRIOR NULL)

PFB_QRY: 1/5 (1 of 1)
SQL_ID  7th4gc4hgx9my, child number 0
-------------------------------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","'
|| t.o_pos || '","' || t.c_pos || '","' || t.str || '","7767"' FROM
bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets (b.str)) t
ORDER BY b.id, t.o_pos

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.54 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.54 |      38 |    45M|  2378K|   40M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:02.30 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.79 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.77 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------

WFB_QRY: 1/5 (1 of 1)
SQL_ID  2zufxafbrurmb, child number 0
-------------------------------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN
bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length
(p_str) - Length (Replace (p_str, '(', '')); l_ob_lis
SYS.ODCINumberList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList
:= SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff
INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis
b_lis_type := b_lis_type(NULL); l_bra_lis bra_lis_type :=
bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb
PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF
c_n_ob = 0 THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob);
l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND
(c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr
(p_str, i, 1); IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b :=
n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1;
l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.59 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.59 |      38 |    45M|  2378K|   40M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:22.50 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.53 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.50 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Data Points
===========
Data Point:               size_wide      size_deep       cpu_time        elapsed       num_recs       per_part     group_size
Data Point                      400              0            .04           .034            100            100            100
Data Point                      400            100            .03           .045            100            100            100
Data Point                      400            200            .03           .056            100            100            100
Data Point                      400            300            .03           .079            100            100            100
Data Point                      400            400            .02           .064            100            100            100

num_records_out
===============
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          40000          40000          40000          40000          40000
MRB_QRY                        W400          40000          40000          40000          40000          40000
PFB_QRY                        W400          40000          40000          40000          40000          40000
WFB_QRY                        W400          40000          40000          40000          40000          40000

num_records_out_SLICE
=====================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       40000          40000          40000          40000          40000
MRB_QRY                       40000          40000          40000          40000          40000
PFB_QRY                       40000          40000          40000          40000          40000
WFB_QRY                       40000          40000          40000          40000          40000

num_records_out_RATIO
=====================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400              1              1              1              1              1
MRB_QRY                        W400              1              1              1              1              1
PFB_QRY                        W400              1              1              1              1              1
WFB_QRY                        W400              1              1              1              1              1

num_records_out_SLICE_RATIO
===========================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                           1              1              1              1              1
MRB_QRY                           1              1              1              1              1
PFB_QRY                           1              1              1              1              1
WFB_QRY                           1              1              1              1              1

cpu_time
========
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          10.14          11.02          11.76          11.86          11.93
MRB_QRY                        W400           5.29           22.5           33.5          37.99           38.1
PFB_QRY                        W400            .88           1.17           1.38           1.52           1.54
WFB_QRY                        W400            .99           1.24           1.48           1.59           1.63

cpu_time_SLICE
==============
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       10.14          11.02          11.76          11.86          11.93
MRB_QRY                        5.29           22.5           33.5          37.99           38.1
PFB_QRY                         .88           1.17           1.38           1.52           1.54
WFB_QRY                         .99           1.24           1.48           1.59           1.63

cpu_time_RATIO
==============
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          11.52           9.42           8.52            7.8           7.75
MRB_QRY                        W400           6.01          19.23          24.28          24.99          24.74
PFB_QRY                        W400              1              1              1              1              1
WFB_QRY                        W400           1.13           1.06           1.07           1.05           1.06

cpu_time_SLICE_RATIO
====================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       11.52           9.42           8.52            7.8           7.75
MRB_QRY                        6.01          19.23          24.28          24.99          24.74
PFB_QRY                           1              1              1              1              1
WFB_QRY                        1.13           1.06           1.07           1.05           1.06

elapsed_time
============
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400         14.997         15.684         16.871         16.639         18.163
MRB_QRY                        W400         11.544         241.53        363.407        376.134        372.693
PFB_QRY                        W400           .918          1.182          1.399          1.523          1.548
WFB_QRY                        W400           .978          1.254          1.505          1.609          1.635

elapsed_time_SLICE
==================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                      14.997         15.684         16.871         16.639         18.163
MRB_QRY                      11.544         241.53        363.407        376.134        372.693
PFB_QRY                        .918          1.182          1.399          1.523          1.548
WFB_QRY                        .978          1.254          1.505          1.609          1.635

elapsed_time_RATIO
==================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          16.34          13.27          12.06          10.93          11.73
MRB_QRY                        W400          12.58         204.34         259.76         246.97         240.76
PFB_QRY                        W400              1              1              1              1              1
WFB_QRY                        W400           1.07           1.06           1.08           1.06           1.06

elapsed_time_SLICE_RATIO
========================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       16.34          13.27          12.06          10.93          11.73
MRB_QRY                       12.58         204.34         259.76         246.97         240.76
PFB_QRY                           1              1              1              1              1
WFB_QRY                        1.07           1.06           1.08           1.06           1.06

memory_used
===========
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400      102363136      102363136      102363136      102363136      102363136
MRB_QRY                        W400      171261952      171261952      171261952      171261952      171261952
PFB_QRY                        W400        2498560       19981312       32496640       39980032       42431488
WFB_QRY                        W400        2498560       19981312       32496640       39980032       42431488

memory_used_SLICE
=================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                   102363136      102363136      102363136      102363136      102363136
MRB_QRY                   171261952      171261952      171261952      171261952      171261952
PFB_QRY                     2498560       19981312       32496640       39980032       42431488
WFB_QRY                     2498560       19981312       32496640       39980032       42431488

memory_used_RATIO
=================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          40.97           5.12           3.15           2.56           2.41
MRB_QRY                        W400          68.54           8.57           5.27           4.28           4.04
PFB_QRY                        W400              1              1              1              1              1
WFB_QRY                        W400              1              1              1              1              1

memory_used_SLICE_RATIO
=======================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       40.97           5.12           3.15           2.56           2.41
MRB_QRY                       68.54           8.57           5.27           4.28           4.04
PFB_QRY                           1              1              1              1              1
WFB_QRY                           1              1              1              1              1

buffers
=======
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400             43             43             43             43             43
MRB_QRY                        W400             40             40             40             40             40
PFB_QRY                        W400             38             38             38             38             38
WFB_QRY                        W400             38             38             38             38             38

buffers_SLICE
=============
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                          43             43             43             43             43
MRB_QRY                          40             40             40             40             40
PFB_QRY                          38             38             38             38             38
WFB_QRY                          38             38             38             38             38

buffers_RATIO
=============
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400           1.13           1.13           1.13           1.13           1.13
MRB_QRY                        W400           1.05           1.05           1.05           1.05           1.05
PFB_QRY                        W400              1              1              1              1              1
WFB_QRY                        W400              1              1              1              1              1

buffers_SLICE_RATIO
===================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                        1.13           1.13           1.13           1.13           1.13
MRB_QRY                        1.05           1.05           1.05           1.05           1.05
PFB_QRY                           1              1              1              1              1
WFB_QRY                           1              1              1              1              1

disk_reads
==========
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          40001          40000          40001          40001          40001
MRB_QRY                        W400          50075        4473459        7646865        7920842        7920842
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

disk_reads_SLICE
================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       40001          40000          40001          40001          40001
MRB_QRY                       50075        4473459        7646865        7920842        7920842
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

disk_reads_RATIO
================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400    40001000000    40000000000    40001000000    40001000000    40001000000
MRB_QRY                        W400    50075000000  4473459000000  7646865000000  7920842000000  7920842000000
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

disk_reads_SLICE_RATIO
======================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                 40001000000    40000000000    40001000000    40001000000    40001000000
MRB_QRY                 50075000000  4473459000000  7646865000000  7920842000000  7920842000000
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

disk_writes
===========
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          40001          40000          40001          40001          40001
MRB_QRY                        W400          50075          50075          50075          50075          50075
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

disk_writes_SLICE
=================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       40001          40000          40001          40001          40001
MRB_QRY                       50075          50075          50075          50075          50075
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

disk_writes_RATIO
=================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400    40001000000    40000000000    40001000000    40001000000    40001000000
MRB_QRY                        W400    50075000000    50075000000    50075000000    50075000000    50075000000
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

disk_writes_SLICE_RATIO
=======================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                 40001000000    40000000000    40001000000    40001000000    40001000000
MRB_QRY                 50075000000    50075000000    50075000000    50075000000    50075000000
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

tempseg_size
============
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400         160768         160768         160768         160768         160768
MRB_QRY                        W400
PFB_QRY                        W400
WFB_QRY                        W400

tempseg_size_SLICE
==================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                      160768         160768         160768         160768         160768
MRB_QRY
PFB_QRY
WFB_QRY

tempseg_size_RATIO
==================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400              1              1              1              1              1
MRB_QRY                        W400
PFB_QRY                        W400
WFB_QRY                        W400

tempseg_size_SLICE_RATIO
========================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                           1              1              1              1              1
MRB_QRY
PFB_QRY
WFB_QRY

cardinality
===========
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400            100            100            100            100            100
MRB_QRY                        W400            100            100            100            100            100
PFB_QRY                        W400         816800         816800         816800         816800         816800
WFB_QRY                        W400         816800         816800         816800         816800         816800

cardinality_SLICE
=================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                         100            100            100            100            100
MRB_QRY                         100            100            100            100            100
PFB_QRY                      816800         816800         816800         816800         816800
WFB_QRY                      816800         816800         816800         816800         816800

cardinality_RATIO
=================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400              1              1              1              1              1
MRB_QRY                        W400              1              1              1              1              1
PFB_QRY                        W400           8168           8168           8168           8168           8168
WFB_QRY                        W400           8168           8168           8168           8168           8168

cardinality_SLICE_RATIO
=======================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                           1              1              1              1              1
MRB_QRY                           1              1              1              1              1
PFB_QRY                        8168           8168           8168           8168           8168
WFB_QRY                        8168           8168           8168           8168           8168

output_rows
===========
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          80000          80000          80000          80000          80000
MRB_QRY                        W400         200300         200300         200300         200300         200300
PFB_QRY                        W400          40000          40000          40000          40000          40000
WFB_QRY                        W400          40000          40000          40000          40000          40000

output_rows_SLICE
=================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       80000          80000          80000          80000          80000
MRB_QRY                      200300         200300         200300         200300         200300
PFB_QRY                       40000          40000          40000          40000          40000
WFB_QRY                       40000          40000          40000          40000          40000

output_rows_RATIO
=================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400              2              2              2              2              2
MRB_QRY                        W400           5.01           5.01           5.01           5.01           5.01
PFB_QRY                        W400              1              1              1              1              1
WFB_QRY                        W400              1              1              1              1              1

output_rows_SLICE_RATIO
=======================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                           2              2              2              2              2
MRB_QRY                        5.01           5.01           5.01           5.01           5.01
PFB_QRY                           1              1              1              1              1
WFB_QRY                           1              1              1              1              1

cardinality_error
=================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          79900          79900          79900          79900          79900
MRB_QRY                        W400         200200         200200         200200         200200         200200
PFB_QRY                        W400         776800         776800         776800         776800         776800
WFB_QRY                        W400         776800         776800         776800         776800         776800

cardinality_error_SLICE
=======================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       79900          79900          79900          79900          79900
MRB_QRY                      200200         200200         200200         200200         200200
PFB_QRY                      776800         776800         776800         776800         776800
WFB_QRY                      776800         776800         776800         776800         776800

cardinality_error_RATIO
=======================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400              1              1              1              1              1
MRB_QRY                        W400           2.51           2.51           2.51           2.51           2.51
PFB_QRY                        W400           9.72           9.72           9.72           9.72           9.72
WFB_QRY                        W400           9.72           9.72           9.72           9.72           9.72

cardinality_error_SLICE_RATIO
=============================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                           1              1              1              1              1
MRB_QRY                        2.51           2.51           2.51           2.51           2.51
PFB_QRY                        9.72           9.72           9.72           9.72           9.72
WFB_QRY                        9.72           9.72           9.72           9.72           9.72
WITH wit AS (SELECT query_name, point_wide, size_wide, point_deep, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'sorts (rows)' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_wide, '"' || query_name || '","W' || size_wide || '","' || Max (CASE point_deep WH
EN 1 THEN f_real END) || '","' || Max (CASE point_deep WHEN 2 THEN f_real END) || '","' || Max (CASE point_deep WHEN 3 THEN f_real END) || '","' || Max (CASE point_deep WHEN 4 THEN f_real END) || '","
' || Max (CASE point_deep WHEN 5 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_wide, size_wide) ORDER BY query_name, point_wide


sorts (rows)
============
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400         200100         200100         200100         200100         200100
MRB_QRY                        W400         240400         240400         240400         240400         240400
PFB_QRY                        W400          40000          40000          40000          40000          40000
WFB_QRY                        W400          40000          40000          40000          40000          40000

sorts (rows)_SLICE
==================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                      200100         200100         200100         200100         200100
MRB_QRY                      240400         240400         240400         240400         240400
PFB_QRY                       40000          40000          40000          40000          40000
WFB_QRY                       40000          40000          40000          40000          40000

sorts (rows)_RATIO
==================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400              5              5              5              5              5
MRB_QRY                        W400           6.01           6.01           6.01           6.01           6.01
PFB_QRY                        W400              1              1              1              1              1
WFB_QRY                        W400              1              1              1              1              1

sorts (rows)_SLICE_RATIO
========================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                           5              5              5              5              5
MRB_QRY                        6.01           6.01           6.01           6.01           6.01
PFB_QRY                           1              1              1              1              1
WFB_QRY                           1              1              1              1              1

Top Stats
=========
WITH wit AS (SELECT query_name, point_wide, size_wide, point_deep, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'cell physical IO interconnect bytes' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_wide, '"' || query_name || '","W' || size_wide || '","' ||
Max (CASE point_deep WHEN 1 THEN f_real END) || '","' || Max (CASE point_deep WHEN 2 THEN f_real END) || '","' || Max (CASE point_deep WHEN 3 THEN f_real END) || '","' || Max (CASE point_deep WHEN 4 T
HEN f_real END) || '","' || Max (CASE point_deep WHEN 5 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_wide, size_wide) ORDER BY query_name, point_wide


cell physical IO interconnect bytes
===================================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400      655376384      655360000      655376384      655376384      655376384
MRB_QRY                        W400      820428800    37056790528    63053332480    65297752064    65297752064
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

cell physical IO interconnect bytes_SLICE
=========================================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                   655376384      655360000      655376384      655376384      655376384
MRB_QRY                   820428800    37056790528    63053332480    65297752064    65297752064
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

cell physical IO interconnect bytes_RATIO
=========================================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400655376384000000655360000000000655376384000000655376384000000655376384000000
MRB_QRY                        W400820428800000000370567905280000630533324800000652977520640000652977520640000
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

cell physical IO interconnect bytes_SLICE_RATIO
===============================================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY             655376384000000655360000000000655376384000000655376384000000655376384000000
MRB_QRY             820428800000000370567905280000630533324800000652977520640000652977520640000
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0
WITH wit AS (SELECT query_name, point_wide, size_wide, point_deep, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'physical read bytes' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_wide, '"' || query_name || '","W' || size_wide || '","' || Max (CASE point_
deep WHEN 1 THEN f_real END) || '","' || Max (CASE point_deep WHEN 2 THEN f_real END) || '","' || Max (CASE point_deep WHEN 3 THEN f_real END) || '","' || Max (CASE point_deep WHEN 4 THEN f_real END)
|| '","' || Max (CASE point_deep WHEN 5 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_wide, size_wide) ORDER BY query_name, point_wide


physical read bytes
===================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400      327688192      327680000      327688192      327688192      327688192
MRB_QRY                        W400      410214400    36646576128    62643118080    64887537664    64887537664
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

physical read bytes_SLICE
=========================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                   327688192      327680000      327688192      327688192      327688192
MRB_QRY                   410214400    36646576128    62643118080    64887537664    64887537664
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

physical read bytes_RATIO
=========================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400327688192000000327680000000000327688192000000327688192000000327688192000000
MRB_QRY                        W400410214400000000366465761280000626431180800000648875376640000648875376640000
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

physical read bytes_SLICE_RATIO
===============================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY             327688192000000327680000000000327688192000000327688192000000327688192000000
MRB_QRY             410214400000000366465761280000626431180800000648875376640000648875376640000
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0
WITH wit AS (SELECT query_name, point_wide, size_wide, point_deep, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'physical write bytes' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_wide, '"' || query_name || '","W' || size_wide || '","' || Max (CASE point
_deep WHEN 1 THEN f_real END) || '","' || Max (CASE point_deep WHEN 2 THEN f_real END) || '","' || Max (CASE point_deep WHEN 3 THEN f_real END) || '","' || Max (CASE point_deep WHEN 4 THEN f_real END)
 || '","' || Max (CASE point_deep WHEN 5 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_wide, size_wide) ORDER BY query_name, point_wide


physical write bytes
====================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400      327688192      327680000      327688192      327688192      327688192
MRB_QRY                        W400      410214400      410214400      410214400      410214400      410214400
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

physical write bytes_SLICE
==========================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                   327688192      327680000      327688192      327688192      327688192
MRB_QRY                   410214400      410214400      410214400      410214400      410214400
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

physical write bytes_RATIO
==========================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400327688192000000327680000000000327688192000000327688192000000327688192000000
MRB_QRY                        W400410214400000000410214400000000410214400000000410214400000000410214400000000
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

physical write bytes_SLICE_RATIO
================================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY             327688192000000327680000000000327688192000000327688192000000327688192000000
MRB_QRY             410214400000000410214400000000410214400000000410214400000000410214400000000
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0
WITH wit AS (SELECT query_name, point_wide, size_wide, point_deep, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'file io wait time' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_wide, '"' || query_name || '","W' || size_wide || '","' || Max (CASE point_de
ep WHEN 1 THEN f_real END) || '","' || Max (CASE point_deep WHEN 2 THEN f_real END) || '","' || Max (CASE point_deep WHEN 3 THEN f_real END) || '","' || Max (CASE point_deep WHEN 4 THEN f_real END) ||
 '","' || Max (CASE point_deep WHEN 5 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_wide, size_wide) ORDER BY query_name, point_wide


file io wait time
=================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400       20811000       21297000       25405000       21953000       24276000
MRB_QRY                        W400       21659000      241366000      357768000      366517000      360683000
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

file io wait time_SLICE
=======================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                    20811000       21297000       25405000       21953000       24276000
MRB_QRY                    21659000      241366000      357768000      366517000      360683000
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

file io wait time_RATIO
=======================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400 20811000000000 21297000000000 25405000000000 21953000000000 24276000000000
MRB_QRY                        W400 21659000000000241366000000000357768000000000366517000000000360683000000000
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

file io wait time_SLICE_RATIO
=============================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY              20811000000000 21297000000000 25405000000000 21953000000000 24276000000000
MRB_QRY              21659000000000241366000000000357768000000000366517000000000360683000000000
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0
WITH wit AS (SELECT query_name, point_wide, size_wide, point_deep, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'physical reads' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_wide, '"' || query_name || '","W' || size_wide || '","' || Max (CASE point_deep
WHEN 1 THEN f_real END) || '","' || Max (CASE point_deep WHEN 2 THEN f_real END) || '","' || Max (CASE point_deep WHEN 3 THEN f_real END) || '","' || Max (CASE point_deep WHEN 4 THEN f_real END) || '"
,"' || Max (CASE point_deep WHEN 5 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_wide, size_wide) ORDER BY query_name, point_wide


physical reads
==============
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400          40001          40000          40001          40001          40001
MRB_QRY                        W400          50075        4473459        7646865        7920842        7920842
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

physical reads_SLICE
====================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                       40001          40000          40001          40001          40001
MRB_QRY                       50075        4473459        7646865        7920842        7920842
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

physical reads_RATIO
====================
Run Type                      Width             D0           D100           D200           D300           D400
CBL_QRY                        W400    40001000000    40000000000    40001000000    40001000000    40001000000
MRB_QRY                        W400    50075000000  4473459000000  7646865000000  7920842000000  7920842000000
PFB_QRY                        W400              0              0              0              0              0
WFB_QRY                        W400              0              0              0              0              0

physical reads_SLICE_RATIO
==========================
Run Type                         D0           D100           D200           D300           D400
CBL_QRY                 40001000000    40000000000    40001000000    40001000000    40001000000
MRB_QRY                 50075000000  4473459000000  7646865000000  7920842000000  7920842000000
PFB_QRY                           0              0              0              0              0
WFB_QRY                           0              0              0              0              0

Timer Set: File Writer, Constructed at 19 Feb 2017 16:02:57, written at 16:02:58
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.00        0.00             1        0.00000        0.00000
(Other)        1.55        1.47             1        1.54600        1.47000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.55        1.47             2        0.77300        0.73500
-------  ----------  ----------  ------------  -------------  -------------
WITH wit AS (SELECT query_name, point_deep, size_deep, point_wide, FACT f_real, Round (FACT / Greatest (Min (FACT) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM bench_v$sql_pl
an_stats_all_v) SELECT text FROM (SELECT query_name, point_deep, '"' || query_name || '","D' || size_deep || '","' || Max (CASE point_wide WHEN 1 THEN f_real END) || '"' text FROM wit GROUP BY query_n
ame, point_deep, size_deep) ORDER BY query_name, point_deep


Distinct Plans
==============
CBL_QRY: 1/5 (1 of 1)
SQL_ID  17cqmwjju0v0r, child number 0
-------------------------------------
/* CBL_QRY */ WITH d ( id, str, pos ) as ( select id, str,
regexp_instr(str, '\(|\)', 1, level) from bracket_strings connect by
level <= length(str) - length(translate(str, 'x()', 'x')) and prior id
= id and prior sys_guid() is not null ), p ( id, str, pos, flag, l_ct,
ct ) as ( select id, str, pos, case substr(str, pos, 1) when '(' then 1
else -1 end, sum(case substr(str, pos, 1) when '(' then 1 end) over
(partition by id order by pos), sum(case substr(str, pos, 1) when '('
then 1 else -1 end) over (partition by id order by pos) from d ), f (
id, str, pos, flag, l_ct, ct, o_ct ) as ( select id, str, pos, flag,
l_ct, ct + case flag when 1 then 0 else 1 end as ct, row_number() over
(partition by id, flag, ct order by pos) from p ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || min(case when flag = 1
then pos end) || '","' || min(case when flag = -1 then pos end) ||
'","' || Substr (str, min(case when flag = 1 then pos end), min(case
when flag = -1 then pos end) - min(case wh

Plan hash value: 2736674058

------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                           | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem | Used-Tmp|
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |                 |      1 |        |  40000 |00:00:18.15 |      43 |  40001 |  40001 |       |       |          |         |
|   1 |  SORT ORDER BY                      |                 |      1 |    100 |  40000 |00:00:18.15 |      43 |  40001 |  40001 |    45M|  2378K|   40M (0)|         |
|   2 |   HASH GROUP BY                     |                 |      1 |    100 |  40000 |00:00:18.12 |      43 |  40001 |  40001 |    85M|  7293K|   85M (0)|         |
|   3 |    VIEW                             |                 |      1 |    100 |  80000 |00:00:56.48 |      43 |  40001 |  40001 |       |       |          |         |
|   4 |     WINDOW SORT                     |                 |      1 |    100 |  80000 |00:00:56.43 |      43 |  40001 |  40001 |   175M|  4458K|   97M (1)|     157K|
|   5 |      VIEW                           |                 |      1 |    100 |  80000 |00:01:38.80 |      40 |  20000 |  20000 |       |       |          |         |
|   6 |       WINDOW SORT                   |                 |      1 |    100 |  80000 |00:01:38.75 |      40 |  20000 |  20000 |   175M|  4457K|   97M (0)|     157K|
|   7 |        VIEW                         |                 |      1 |    100 |  80000 |00:00:11.18 |      38 |      0 |      0 |       |       |          |         |
|*  8 |         CONNECT BY WITHOUT FILTERING|                 |      1 |        |  80000 |00:00:02.30 |      38 |      0 |      0 |   267K|   267K|  237K (0)|         |
|   9 |          TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |         |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   8 - access("ID"=PRIOR NULL)

MRB_QRY: 1/5 (1 of 1)
SQL_ID  d2b29cut9w45p, child number 0
-------------------------------------
/* MRB_QRY */ WITH b as ( select substr(str,level,1) s ,level n ,id
,str from bracket_strings connect by id = prior id and
substr(str,level,1) is not null and prior sys_guid() is not null ), mrq
as ( select id ,o_pos ,c_pos ,substr(str,o_pos,c_pos - o_pos + 1) t
from b MATCH_RECOGNIZE ( partition by id ORDER BY n MEASURES str as str
,FIRST( N) AS o_pos ,LAST( N) AS c_pos one ROW PER MATCH AFTER MATCH
SKIP to next row PATTERN (ob (ob | nb | cb)*? lcb) DEFINE ob as ob.s =
'(' ,cb as cb.s = ')' ,nb as nb.s not in ('(',')') ,lcb as lcb.s = ')'
and (count(ob.s) = count(cb.s) + 1) ) MR ) SELECT /*+
GATHER_PLAN_STATISTICS */ '"' || id || '","' || o_pos || '","' || c_pos
|| '","' || t || '","5707"' /*+ GATHER_PLAN_STATISTICS */ from mrq
order by id, o_pos

Plan hash value: 2214599770

-----------------------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                        | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers | Reads  | Writes |  OMem |  1Mem | Used-Mem |
-----------------------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                 |                 |      1 |        |  40000 |00:06:12.68 |      40 |   7920K|  50075 |       |       |          |
|   1 |  SORT ORDER BY                   |                 |      1 |    100 |  40000 |00:06:12.68 |      40 |   7920K|  50075 |    45M|  2376K|   40M (0)|
|   2 |   VIEW                           |                 |      1 |    100 |  40000 |00:06:44.17 |      40 |   7920K|  50075 |       |       |          |
|   3 |    MATCH RECOGNIZE SORT          |                 |      1 |    100 |  40000 |00:06:44.14 |      40 |   7920K|  50075 |   440M|  6922K|  163M (0)|
|   4 |     VIEW                         |                 |      1 |    100 |    200K|00:00:04.59 |      38 |      0 |      0 |       |       |          |
|*  5 |      CONNECT BY WITHOUT FILTERING|                 |      1 |        |    200K|00:00:04.47 |      38 |      0 |      0 |   267K|   267K|  237K (0)|
|   6 |       TABLE ACCESS FULL          | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |      0 |      0 |       |       |          |
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   5 - access("ID"=PRIOR NULL)

PFB_QRY: 1/5 (1 of 1)
SQL_ID  7th4gc4hgx9my, child number 0
-------------------------------------
/* PFB_QRY */ SELECT /*+ GATHER_PLAN_STATISTICS */ '"' || b.id || '","'
|| t.o_pos || '","' || t.c_pos || '","' || t.str || '","7767"' FROM
bracket_strings b OUTER APPLY TABLE (Strings.Parse_Brackets (b.str)) t
ORDER BY b.id, t.o_pos

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.54 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.54 |      38 |    45M|  2378K|   40M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:02.30 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.79 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.77 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------

WFB_QRY: 1/5 (1 of 1)
SQL_ID  2zufxafbrurmb, child number 0
-------------------------------------
/* WFB_QRY */ WITH FUNCTION Parse_Brackets (p_str VARCHAR2) RETURN
bra_lis_type IS /* WFB_QRY */ c_n_ob CONSTANT PLS_INTEGER := Length
(p_str) - Length (Replace (p_str, '(', '')); l_ob_lis
SYS.ODCINumberList := SYS.ODCINumberList(); l_cb_lis SYS.ODCINumberList
:= SYS.ODCINumberList(); TYPE b_rec_type IS RECORD (pos INTEGER, diff
INTEGER); TYPE b_lis_type IS VARRAY(32767) OF b_rec_type; l_b_lis
b_lis_type := b_lis_type(NULL); l_bra_lis bra_lis_type :=
bra_lis_type(); n_b PLS_INTEGER := 0; n_ob PLS_INTEGER := 0; n_cb
PLS_INTEGER := 0; l_chr VARCHAR2(1); l_o_diff PLS_INTEGER; BEGIN IF
c_n_ob = 0 THEN RETURN NULL; END IF; l_ob_lis.EXTEND (c_n_ob);
l_bra_lis.EXTEND (c_n_ob); l_cb_lis.EXTEND (c_n_ob); l_b_lis.EXTEND
(c_n_ob + c_n_ob); FOR i IN 1..Length (p_str) LOOP l_chr := Substr
(p_str, i, 1); IF l_chr NOT IN ('(', ')') THEN CONTINUE; END IF; n_b :=
n_b + 1; l_b_lis(n_b).pos := i; IF l_chr = '(' THEN n_ob := n_ob + 1;
l_ob_lis(n_ob) := n_b; ELSE n_cb := n_cb + 1; l_cb_lis(n_cb) := n_b; EN

Plan hash value: 3367347570

---------------------------------------------------------------------------------------------------------------------------------------------
| Id  | Operation                            | Name            | Starts | E-Rows | A-Rows |   A-Time   | Buffers |  OMem |  1Mem | Used-Mem |
---------------------------------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                     |                 |      1 |        |  40000 |00:00:01.59 |      38 |       |       |          |
|   1 |  SORT ORDER BY                       |                 |      1 |    816K|  40000 |00:00:01.59 |      38 |    45M|  2378K|   40M (0)|
|   2 |   NESTED LOOPS OUTER                 |                 |      1 |    816K|  40000 |00:00:22.50 |      38 |       |       |          |
|   3 |    TABLE ACCESS FULL                 | BRACKET_STRINGS |      1 |    100 |    100 |00:00:00.01 |      38 |       |       |          |
|   4 |    VIEW                              | VW_LAT_D4FD8C38 |    100 |   8168 |  40000 |00:00:01.53 |       0 |       |       |          |
|   5 |     COLLECTION ITERATOR PICKLER FETCH| PARSE_BRACKETS  |    100 |   8168 |  40000 |00:00:01.50 |       0 |       |       |          |
---------------------------------------------------------------------------------------------------------------------------------------------


Data Points
===========
Data Point:               size_wide      size_deep       cpu_time        elapsed       num_recs       per_part     group_size
Data Point                      400              0            .04           .034            100            100            100
Data Point                      400            100            .03           .045            100            100            100
Data Point                      400            200            .03           .056            100            100            100
Data Point                      400            300            .03           .079            100            100            100
Data Point                      400            400            .02           .064            100            100            100

num_records_out
===============
Run Type                      Depth           W400
CBL_QRY                          D0          40000
CBL_QRY                        D100          40000
CBL_QRY                        D200          40000
CBL_QRY                        D300          40000
CBL_QRY                        D400          40000
MRB_QRY                          D0          40000
MRB_QRY                        D100          40000
MRB_QRY                        D200          40000
MRB_QRY                        D300          40000
MRB_QRY                        D400          40000
PFB_QRY                          D0          40000
PFB_QRY                        D100          40000
PFB_QRY                        D200          40000
PFB_QRY                        D300          40000
PFB_QRY                        D400          40000
WFB_QRY                          D0          40000
WFB_QRY                        D100          40000
WFB_QRY                        D200          40000
WFB_QRY                        D300          40000
WFB_QRY                        D400          40000

num_records_out_SLICE
=====================
Run Type                       W400
CBL_QRY                       40000
MRB_QRY                       40000
PFB_QRY                       40000
WFB_QRY                       40000

num_records_out_RATIO
=====================
Run Type                      Depth           W400
CBL_QRY                          D0              1
CBL_QRY                        D100              1
CBL_QRY                        D200              1
CBL_QRY                        D300              1
CBL_QRY                        D400              1
MRB_QRY                          D0              1
MRB_QRY                        D100              1
MRB_QRY                        D200              1
MRB_QRY                        D300              1
MRB_QRY                        D400              1
PFB_QRY                          D0              1
PFB_QRY                        D100              1
PFB_QRY                        D200              1
PFB_QRY                        D300              1
PFB_QRY                        D400              1
WFB_QRY                          D0              1
WFB_QRY                        D100              1
WFB_QRY                        D200              1
WFB_QRY                        D300              1
WFB_QRY                        D400              1

num_records_out_SLICE_RATIO
===========================
Run Type                       W400
CBL_QRY                           1
MRB_QRY                           1
PFB_QRY                           1
WFB_QRY                           1

cpu_time
========
Run Type                      Depth           W400
CBL_QRY                          D0          10.14
CBL_QRY                        D100          11.02
CBL_QRY                        D200          11.76
CBL_QRY                        D300          11.86
CBL_QRY                        D400          11.93
MRB_QRY                          D0           5.29
MRB_QRY                        D100           22.5
MRB_QRY                        D200           33.5
MRB_QRY                        D300          37.99
MRB_QRY                        D400           38.1
PFB_QRY                          D0            .88
PFB_QRY                        D100           1.17
PFB_QRY                        D200           1.38
PFB_QRY                        D300           1.52
PFB_QRY                        D400           1.54
WFB_QRY                          D0            .99
WFB_QRY                        D100           1.24
WFB_QRY                        D200           1.48
WFB_QRY                        D300           1.59
WFB_QRY                        D400           1.63

cpu_time_SLICE
==============
Run Type                       W400
CBL_QRY                       11.93
MRB_QRY                        38.1
PFB_QRY                        1.54
WFB_QRY                        1.63

cpu_time_RATIO
==============
Run Type                      Depth           W400
CBL_QRY                          D0          11.52
CBL_QRY                        D100           9.42
CBL_QRY                        D200           8.52
CBL_QRY                        D300            7.8
CBL_QRY                        D400           7.75
MRB_QRY                          D0           6.01
MRB_QRY                        D100          19.23
MRB_QRY                        D200          24.28
MRB_QRY                        D300          24.99
MRB_QRY                        D400          24.74
PFB_QRY                          D0              1
PFB_QRY                        D100              1
PFB_QRY                        D200              1
PFB_QRY                        D300              1
PFB_QRY                        D400              1
WFB_QRY                          D0           1.13
WFB_QRY                        D100           1.06
WFB_QRY                        D200           1.07
WFB_QRY                        D300           1.05
WFB_QRY                        D400           1.06

cpu_time_SLICE_RATIO
====================
Run Type                       W400
CBL_QRY                        7.75
MRB_QRY                       24.74
PFB_QRY                           1
WFB_QRY                        1.06

elapsed_time
============
Run Type                      Depth           W400
CBL_QRY                          D0         14.997
CBL_QRY                        D100         15.684
CBL_QRY                        D200         16.871
CBL_QRY                        D300         16.639
CBL_QRY                        D400         18.163
MRB_QRY                          D0         11.544
MRB_QRY                        D100         241.53
MRB_QRY                        D200        363.407
MRB_QRY                        D300        376.134
MRB_QRY                        D400        372.693
PFB_QRY                          D0           .918
PFB_QRY                        D100          1.182
PFB_QRY                        D200          1.399
PFB_QRY                        D300          1.523
PFB_QRY                        D400          1.548
WFB_QRY                          D0           .978
WFB_QRY                        D100          1.254
WFB_QRY                        D200          1.505
WFB_QRY                        D300          1.609
WFB_QRY                        D400          1.635

elapsed_time_SLICE
==================
Run Type                       W400
CBL_QRY                      18.163
MRB_QRY                     372.693
PFB_QRY                       1.548
WFB_QRY                       1.635

elapsed_time_RATIO
==================
Run Type                      Depth           W400
CBL_QRY                          D0          16.34
CBL_QRY                        D100          13.27
CBL_QRY                        D200          12.06
CBL_QRY                        D300          10.93
CBL_QRY                        D400          11.73
MRB_QRY                          D0          12.58
MRB_QRY                        D100         204.34
MRB_QRY                        D200         259.76
MRB_QRY                        D300         246.97
MRB_QRY                        D400         240.76
PFB_QRY                          D0              1
PFB_QRY                        D100              1
PFB_QRY                        D200              1
PFB_QRY                        D300              1
PFB_QRY                        D400              1
WFB_QRY                          D0           1.07
WFB_QRY                        D100           1.06
WFB_QRY                        D200           1.08
WFB_QRY                        D300           1.06
WFB_QRY                        D400           1.06

elapsed_time_SLICE_RATIO
========================
Run Type                       W400
CBL_QRY                       11.73
MRB_QRY                      240.76
PFB_QRY                           1
WFB_QRY                        1.06

memory_used
===========
Run Type                      Depth           W400
CBL_QRY                          D0      102363136
CBL_QRY                        D100      102363136
CBL_QRY                        D200      102363136
CBL_QRY                        D300      102363136
CBL_QRY                        D400      102363136
MRB_QRY                          D0      171261952
MRB_QRY                        D100      171261952
MRB_QRY                        D200      171261952
MRB_QRY                        D300      171261952
MRB_QRY                        D400      171261952
PFB_QRY                          D0        2498560
PFB_QRY                        D100       19981312
PFB_QRY                        D200       32496640
PFB_QRY                        D300       39980032
PFB_QRY                        D400       42431488
WFB_QRY                          D0        2498560
WFB_QRY                        D100       19981312
WFB_QRY                        D200       32496640
WFB_QRY                        D300       39980032
WFB_QRY                        D400       42431488

memory_used_SLICE
=================
Run Type                       W400
CBL_QRY                   102363136
MRB_QRY                   171261952
PFB_QRY                    42431488
WFB_QRY                    42431488

memory_used_RATIO
=================
Run Type                      Depth           W400
CBL_QRY                          D0          40.97
CBL_QRY                        D100           5.12
CBL_QRY                        D200           3.15
CBL_QRY                        D300           2.56
CBL_QRY                        D400           2.41
MRB_QRY                          D0          68.54
MRB_QRY                        D100           8.57
MRB_QRY                        D200           5.27
MRB_QRY                        D300           4.28
MRB_QRY                        D400           4.04
PFB_QRY                          D0              1
PFB_QRY                        D100              1
PFB_QRY                        D200              1
PFB_QRY                        D300              1
PFB_QRY                        D400              1
WFB_QRY                          D0              1
WFB_QRY                        D100              1
WFB_QRY                        D200              1
WFB_QRY                        D300              1
WFB_QRY                        D400              1

memory_used_SLICE_RATIO
=======================
Run Type                       W400
CBL_QRY                        2.41
MRB_QRY                        4.04
PFB_QRY                           1
WFB_QRY                           1

buffers
=======
Run Type                      Depth           W400
CBL_QRY                          D0             43
CBL_QRY                        D100             43
CBL_QRY                        D200             43
CBL_QRY                        D300             43
CBL_QRY                        D400             43
MRB_QRY                          D0             40
MRB_QRY                        D100             40
MRB_QRY                        D200             40
MRB_QRY                        D300             40
MRB_QRY                        D400             40
PFB_QRY                          D0             38
PFB_QRY                        D100             38
PFB_QRY                        D200             38
PFB_QRY                        D300             38
PFB_QRY                        D400             38
WFB_QRY                          D0             38
WFB_QRY                        D100             38
WFB_QRY                        D200             38
WFB_QRY                        D300             38
WFB_QRY                        D400             38

buffers_SLICE
=============
Run Type                       W400
CBL_QRY                          43
MRB_QRY                          40
PFB_QRY                          38
WFB_QRY                          38

buffers_RATIO
=============
Run Type                      Depth           W400
CBL_QRY                          D0           1.13
CBL_QRY                        D100           1.13
CBL_QRY                        D200           1.13
CBL_QRY                        D300           1.13
CBL_QRY                        D400           1.13
MRB_QRY                          D0           1.05
MRB_QRY                        D100           1.05
MRB_QRY                        D200           1.05
MRB_QRY                        D300           1.05
MRB_QRY                        D400           1.05
PFB_QRY                          D0              1
PFB_QRY                        D100              1
PFB_QRY                        D200              1
PFB_QRY                        D300              1
PFB_QRY                        D400              1
WFB_QRY                          D0              1
WFB_QRY                        D100              1
WFB_QRY                        D200              1
WFB_QRY                        D300              1
WFB_QRY                        D400              1

buffers_SLICE_RATIO
===================
Run Type                       W400
CBL_QRY                        1.13
MRB_QRY                        1.05
PFB_QRY                           1
WFB_QRY                           1

disk_reads
==========
Run Type                      Depth           W400
CBL_QRY                          D0          40001
CBL_QRY                        D100          40000
CBL_QRY                        D200          40001
CBL_QRY                        D300          40001
CBL_QRY                        D400          40001
MRB_QRY                          D0          50075
MRB_QRY                        D100        4473459
MRB_QRY                        D200        7646865
MRB_QRY                        D300        7920842
MRB_QRY                        D400        7920842
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

disk_reads_SLICE
================
Run Type                       W400
CBL_QRY                       40001
MRB_QRY                     7920842
PFB_QRY                           0
WFB_QRY                           0

disk_reads_RATIO
================
Run Type                      Depth           W400
CBL_QRY                          D0    40001000000
CBL_QRY                        D100    40000000000
CBL_QRY                        D200    40001000000
CBL_QRY                        D300    40001000000
CBL_QRY                        D400    40001000000
MRB_QRY                          D0    50075000000
MRB_QRY                        D100  4473459000000
MRB_QRY                        D200  7646865000000
MRB_QRY                        D300  7920842000000
MRB_QRY                        D400  7920842000000
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

disk_reads_SLICE_RATIO
======================
Run Type                       W400
CBL_QRY                 40001000000
MRB_QRY               7920842000000
PFB_QRY                           0
WFB_QRY                           0

disk_writes
===========
Run Type                      Depth           W400
CBL_QRY                          D0          40001
CBL_QRY                        D100          40000
CBL_QRY                        D200          40001
CBL_QRY                        D300          40001
CBL_QRY                        D400          40001
MRB_QRY                          D0          50075
MRB_QRY                        D100          50075
MRB_QRY                        D200          50075
MRB_QRY                        D300          50075
MRB_QRY                        D400          50075
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

disk_writes_SLICE
=================
Run Type                       W400
CBL_QRY                       40001
MRB_QRY                       50075
PFB_QRY                           0
WFB_QRY                           0

disk_writes_RATIO
=================
Run Type                      Depth           W400
CBL_QRY                          D0    40001000000
CBL_QRY                        D100    40000000000
CBL_QRY                        D200    40001000000
CBL_QRY                        D300    40001000000
CBL_QRY                        D400    40001000000
MRB_QRY                          D0    50075000000
MRB_QRY                        D100    50075000000
MRB_QRY                        D200    50075000000
MRB_QRY                        D300    50075000000
MRB_QRY                        D400    50075000000
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

disk_writes_SLICE_RATIO
=======================
Run Type                       W400
CBL_QRY                 40001000000
MRB_QRY                 50075000000
PFB_QRY                           0
WFB_QRY                           0

tempseg_size
============
Run Type                      Depth           W400
CBL_QRY                          D0         160768
CBL_QRY                        D100         160768
CBL_QRY                        D200         160768
CBL_QRY                        D300         160768
CBL_QRY                        D400         160768
MRB_QRY                          D0
MRB_QRY                        D100
MRB_QRY                        D200
MRB_QRY                        D300
MRB_QRY                        D400
PFB_QRY                          D0
PFB_QRY                        D100
PFB_QRY                        D200
PFB_QRY                        D300
PFB_QRY                        D400
WFB_QRY                          D0
WFB_QRY                        D100
WFB_QRY                        D200
WFB_QRY                        D300
WFB_QRY                        D400

tempseg_size_SLICE
==================
Run Type                       W400
CBL_QRY                      160768
MRB_QRY
PFB_QRY
WFB_QRY

tempseg_size_RATIO
==================
Run Type                      Depth           W400
CBL_QRY                          D0              1
CBL_QRY                        D100              1
CBL_QRY                        D200              1
CBL_QRY                        D300              1
CBL_QRY                        D400              1
MRB_QRY                          D0
MRB_QRY                        D100
MRB_QRY                        D200
MRB_QRY                        D300
MRB_QRY                        D400
PFB_QRY                          D0
PFB_QRY                        D100
PFB_QRY                        D200
PFB_QRY                        D300
PFB_QRY                        D400
WFB_QRY                          D0
WFB_QRY                        D100
WFB_QRY                        D200
WFB_QRY                        D300
WFB_QRY                        D400

tempseg_size_SLICE_RATIO
========================
Run Type                       W400
CBL_QRY                           1
MRB_QRY
PFB_QRY
WFB_QRY

cardinality
===========
Run Type                      Depth           W400
CBL_QRY                          D0            100
CBL_QRY                        D100            100
CBL_QRY                        D200            100
CBL_QRY                        D300            100
CBL_QRY                        D400            100
MRB_QRY                          D0            100
MRB_QRY                        D100            100
MRB_QRY                        D200            100
MRB_QRY                        D300            100
MRB_QRY                        D400            100
PFB_QRY                          D0         816800
PFB_QRY                        D100         816800
PFB_QRY                        D200         816800
PFB_QRY                        D300         816800
PFB_QRY                        D400         816800
WFB_QRY                          D0         816800
WFB_QRY                        D100         816800
WFB_QRY                        D200         816800
WFB_QRY                        D300         816800
WFB_QRY                        D400         816800

cardinality_SLICE
=================
Run Type                       W400
CBL_QRY                         100
MRB_QRY                         100
PFB_QRY                      816800
WFB_QRY                      816800

cardinality_RATIO
=================
Run Type                      Depth           W400
CBL_QRY                          D0              1
CBL_QRY                        D100              1
CBL_QRY                        D200              1
CBL_QRY                        D300              1
CBL_QRY                        D400              1
MRB_QRY                          D0              1
MRB_QRY                        D100              1
MRB_QRY                        D200              1
MRB_QRY                        D300              1
MRB_QRY                        D400              1
PFB_QRY                          D0           8168
PFB_QRY                        D100           8168
PFB_QRY                        D200           8168
PFB_QRY                        D300           8168
PFB_QRY                        D400           8168
WFB_QRY                          D0           8168
WFB_QRY                        D100           8168
WFB_QRY                        D200           8168
WFB_QRY                        D300           8168
WFB_QRY                        D400           8168

cardinality_SLICE_RATIO
=======================
Run Type                       W400
CBL_QRY                           1
MRB_QRY                           1
PFB_QRY                        8168
WFB_QRY                        8168

output_rows
===========
Run Type                      Depth           W400
CBL_QRY                          D0          80000
CBL_QRY                        D100          80000
CBL_QRY                        D200          80000
CBL_QRY                        D300          80000
CBL_QRY                        D400          80000
MRB_QRY                          D0         200300
MRB_QRY                        D100         200300
MRB_QRY                        D200         200300
MRB_QRY                        D300         200300
MRB_QRY                        D400         200300
PFB_QRY                          D0          40000
PFB_QRY                        D100          40000
PFB_QRY                        D200          40000
PFB_QRY                        D300          40000
PFB_QRY                        D400          40000
WFB_QRY                          D0          40000
WFB_QRY                        D100          40000
WFB_QRY                        D200          40000
WFB_QRY                        D300          40000
WFB_QRY                        D400          40000

output_rows_SLICE
=================
Run Type                       W400
CBL_QRY                       80000
MRB_QRY                      200300
PFB_QRY                       40000
WFB_QRY                       40000

output_rows_RATIO
=================
Run Type                      Depth           W400
CBL_QRY                          D0              2
CBL_QRY                        D100              2
CBL_QRY                        D200              2
CBL_QRY                        D300              2
CBL_QRY                        D400              2
MRB_QRY                          D0           5.01
MRB_QRY                        D100           5.01
MRB_QRY                        D200           5.01
MRB_QRY                        D300           5.01
MRB_QRY                        D400           5.01
PFB_QRY                          D0              1
PFB_QRY                        D100              1
PFB_QRY                        D200              1
PFB_QRY                        D300              1
PFB_QRY                        D400              1
WFB_QRY                          D0              1
WFB_QRY                        D100              1
WFB_QRY                        D200              1
WFB_QRY                        D300              1
WFB_QRY                        D400              1

output_rows_SLICE_RATIO
=======================
Run Type                       W400
CBL_QRY                           2
MRB_QRY                        5.01
PFB_QRY                           1
WFB_QRY                           1

cardinality_error
=================
Run Type                      Depth           W400
CBL_QRY                          D0          79900
CBL_QRY                        D100          79900
CBL_QRY                        D200          79900
CBL_QRY                        D300          79900
CBL_QRY                        D400          79900
MRB_QRY                          D0         200200
MRB_QRY                        D100         200200
MRB_QRY                        D200         200200
MRB_QRY                        D300         200200
MRB_QRY                        D400         200200
PFB_QRY                          D0         776800
PFB_QRY                        D100         776800
PFB_QRY                        D200         776800
PFB_QRY                        D300         776800
PFB_QRY                        D400         776800
WFB_QRY                          D0         776800
WFB_QRY                        D100         776800
WFB_QRY                        D200         776800
WFB_QRY                        D300         776800
WFB_QRY                        D400         776800

cardinality_error_SLICE
=======================
Run Type                       W400
CBL_QRY                       79900
MRB_QRY                      200200
PFB_QRY                      776800
WFB_QRY                      776800

cardinality_error_RATIO
=======================
Run Type                      Depth           W400
CBL_QRY                          D0              1
CBL_QRY                        D100              1
CBL_QRY                        D200              1
CBL_QRY                        D300              1
CBL_QRY                        D400              1
MRB_QRY                          D0           2.51
MRB_QRY                        D100           2.51
MRB_QRY                        D200           2.51
MRB_QRY                        D300           2.51
MRB_QRY                        D400           2.51
PFB_QRY                          D0           9.72
PFB_QRY                        D100           9.72
PFB_QRY                        D200           9.72
PFB_QRY                        D300           9.72
PFB_QRY                        D400           9.72
WFB_QRY                          D0           9.72
WFB_QRY                        D100           9.72
WFB_QRY                        D200           9.72
WFB_QRY                        D300           9.72
WFB_QRY                        D400           9.72

cardinality_error_SLICE_RATIO
=============================
Run Type                       W400
CBL_QRY                           1
MRB_QRY                        2.51
PFB_QRY                        9.72
WFB_QRY                        9.72
WITH wit AS (SELECT query_name, point_deep, size_deep, point_wide, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'sorts (rows)' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_deep, '"' || query_name || '","D' || size_deep || '","' || Max (CASE point_wide WH
EN 1 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_deep, size_deep) ORDER BY query_name, point_deep


sorts (rows)
============
Run Type                      Depth           W400
CBL_QRY                          D0         200100
CBL_QRY                        D100         200100
CBL_QRY                        D200         200100
CBL_QRY                        D300         200100
CBL_QRY                        D400         200100
MRB_QRY                          D0         240400
MRB_QRY                        D100         240400
MRB_QRY                        D200         240400
MRB_QRY                        D300         240400
MRB_QRY                        D400         240400
PFB_QRY                          D0          40000
PFB_QRY                        D100          40000
PFB_QRY                        D200          40000
PFB_QRY                        D300          40000
PFB_QRY                        D400          40000
WFB_QRY                          D0          40000
WFB_QRY                        D100          40000
WFB_QRY                        D200          40000
WFB_QRY                        D300          40000
WFB_QRY                        D400          40000

sorts (rows)_SLICE
==================
Run Type                       W400
CBL_QRY                      200100
MRB_QRY                      240400
PFB_QRY                       40000
WFB_QRY                       40000

sorts (rows)_RATIO
==================
Run Type                      Depth           W400
CBL_QRY                          D0              5
CBL_QRY                        D100              5
CBL_QRY                        D200              5
CBL_QRY                        D300              5
CBL_QRY                        D400              5
MRB_QRY                          D0           6.01
MRB_QRY                        D100           6.01
MRB_QRY                        D200           6.01
MRB_QRY                        D300           6.01
MRB_QRY                        D400           6.01
PFB_QRY                          D0              1
PFB_QRY                        D100              1
PFB_QRY                        D200              1
PFB_QRY                        D300              1
PFB_QRY                        D400              1
WFB_QRY                          D0              1
WFB_QRY                        D100              1
WFB_QRY                        D200              1
WFB_QRY                        D300              1
WFB_QRY                        D400              1

sorts (rows)_SLICE_RATIO
========================
Run Type                       W400
CBL_QRY                           5
MRB_QRY                        6.01
PFB_QRY                           1
WFB_QRY                           1

Top Stats
=========
WITH wit AS (SELECT query_name, point_deep, size_deep, point_wide, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'cell physical IO interconnect bytes' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_deep, '"' || query_name || '","D' || size_deep || '","' ||
Max (CASE point_wide WHEN 1 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_deep, size_deep) ORDER BY query_name, point_deep


cell physical IO interconnect bytes
===================================
Run Type                      Depth           W400
CBL_QRY                          D0      655376384
CBL_QRY                        D100      655360000
CBL_QRY                        D200      655376384
CBL_QRY                        D300      655376384
CBL_QRY                        D400      655376384
MRB_QRY                          D0      820428800
MRB_QRY                        D100    37056790528
MRB_QRY                        D200    63053332480
MRB_QRY                        D300    65297752064
MRB_QRY                        D400    65297752064
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

cell physical IO interconnect bytes_SLICE
=========================================
Run Type                       W400
CBL_QRY                   655376384
MRB_QRY                 65297752064
PFB_QRY                           0
WFB_QRY                           0

cell physical IO interconnect bytes_RATIO
=========================================
Run Type                      Depth           W400
CBL_QRY                          D0655376384000000
CBL_QRY                        D100655360000000000
CBL_QRY                        D200655376384000000
CBL_QRY                        D300655376384000000
CBL_QRY                        D400655376384000000
MRB_QRY                          D0820428800000000
MRB_QRY                        D100370567905280000
MRB_QRY                        D200630533324800000
MRB_QRY                        D300652977520640000
MRB_QRY                        D400652977520640000
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

cell physical IO interconnect bytes_SLICE_RATIO
===============================================
Run Type                       W400
CBL_QRY             655376384000000
MRB_QRY             652977520640000
PFB_QRY                           0
WFB_QRY                           0
WITH wit AS (SELECT query_name, point_deep, size_deep, point_wide, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'physical read bytes' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_deep, '"' || query_name || '","D' || size_deep || '","' || Max (CASE point_
wide WHEN 1 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_deep, size_deep) ORDER BY query_name, point_deep


physical read bytes
===================
Run Type                      Depth           W400
CBL_QRY                          D0      327688192
CBL_QRY                        D100      327680000
CBL_QRY                        D200      327688192
CBL_QRY                        D300      327688192
CBL_QRY                        D400      327688192
MRB_QRY                          D0      410214400
MRB_QRY                        D100    36646576128
MRB_QRY                        D200    62643118080
MRB_QRY                        D300    64887537664
MRB_QRY                        D400    64887537664
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

physical read bytes_SLICE
=========================
Run Type                       W400
CBL_QRY                   327688192
MRB_QRY                 64887537664
PFB_QRY                           0
WFB_QRY                           0

physical read bytes_RATIO
=========================
Run Type                      Depth           W400
CBL_QRY                          D0327688192000000
CBL_QRY                        D100327680000000000
CBL_QRY                        D200327688192000000
CBL_QRY                        D300327688192000000
CBL_QRY                        D400327688192000000
MRB_QRY                          D0410214400000000
MRB_QRY                        D100366465761280000
MRB_QRY                        D200626431180800000
MRB_QRY                        D300648875376640000
MRB_QRY                        D400648875376640000
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

physical read bytes_SLICE_RATIO
===============================
Run Type                       W400
CBL_QRY             327688192000000
MRB_QRY             648875376640000
PFB_QRY                           0
WFB_QRY                           0
WITH wit AS (SELECT query_name, point_deep, size_deep, point_wide, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'physical write bytes' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_deep, '"' || query_name || '","D' || size_deep || '","' || Max (CASE point
_wide WHEN 1 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_deep, size_deep) ORDER BY query_name, point_deep


physical write bytes
====================
Run Type                      Depth           W400
CBL_QRY                          D0      327688192
CBL_QRY                        D100      327680000
CBL_QRY                        D200      327688192
CBL_QRY                        D300      327688192
CBL_QRY                        D400      327688192
MRB_QRY                          D0      410214400
MRB_QRY                        D100      410214400
MRB_QRY                        D200      410214400
MRB_QRY                        D300      410214400
MRB_QRY                        D400      410214400
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

physical write bytes_SLICE
==========================
Run Type                       W400
CBL_QRY                   327688192
MRB_QRY                   410214400
PFB_QRY                           0
WFB_QRY                           0

physical write bytes_RATIO
==========================
Run Type                      Depth           W400
CBL_QRY                          D0327688192000000
CBL_QRY                        D100327680000000000
CBL_QRY                        D200327688192000000
CBL_QRY                        D300327688192000000
CBL_QRY                        D400327688192000000
MRB_QRY                          D0410214400000000
MRB_QRY                        D100410214400000000
MRB_QRY                        D200410214400000000
MRB_QRY                        D300410214400000000
MRB_QRY                        D400410214400000000
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

physical write bytes_SLICE_RATIO
================================
Run Type                       W400
CBL_QRY             327688192000000
MRB_QRY             410214400000000
PFB_QRY                           0
WFB_QRY                           0
WITH wit AS (SELECT query_name, point_deep, size_deep, point_wide, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'file io wait time' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_deep, '"' || query_name || '","D' || size_deep || '","' || Max (CASE point_wi
de WHEN 1 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_deep, size_deep) ORDER BY query_name, point_deep


file io wait time
=================
Run Type                      Depth           W400
CBL_QRY                          D0       20811000
CBL_QRY                        D100       21297000
CBL_QRY                        D200       25405000
CBL_QRY                        D300       21953000
CBL_QRY                        D400       24276000
MRB_QRY                          D0       21659000
MRB_QRY                        D100      241366000
MRB_QRY                        D200      357768000
MRB_QRY                        D300      366517000
MRB_QRY                        D400      360683000
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

file io wait time_SLICE
=======================
Run Type                       W400
CBL_QRY                    24276000
MRB_QRY                   360683000
PFB_QRY                           0
WFB_QRY                           0

file io wait time_RATIO
=======================
Run Type                      Depth           W400
CBL_QRY                          D0 20811000000000
CBL_QRY                        D100 21297000000000
CBL_QRY                        D200 25405000000000
CBL_QRY                        D300 21953000000000
CBL_QRY                        D400 24276000000000
MRB_QRY                          D0 21659000000000
MRB_QRY                        D100241366000000000
MRB_QRY                        D200357768000000000
MRB_QRY                        D300366517000000000
MRB_QRY                        D400360683000000000
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

file io wait time_SLICE_RATIO
=============================
Run Type                       W400
CBL_QRY              24276000000000
MRB_QRY             360683000000000
PFB_QRY                           0
WFB_QRY                           0
WITH wit AS (SELECT query_name, point_deep, size_deep, point_wide, stat_val f_real, Round (stat_val / Greatest (Min (stat_val) OVER (PARTITION BY point_deep, point_wide), 0.000001), 2) f_ratio FROM be
nch_run_v$stats_v WHERE stat_name = 'physical reads' AND stat_type = 'STAT') SELECT text FROM (SELECT query_name, point_deep, '"' || query_name || '","D' || size_deep || '","' || Max (CASE point_wide
WHEN 1 THEN f_real END) || '"' text FROM wit GROUP BY query_name, point_deep, size_deep) ORDER BY query_name, point_deep


physical reads
==============
Run Type                      Depth           W400
CBL_QRY                          D0          40001
CBL_QRY                        D100          40000
CBL_QRY                        D200          40001
CBL_QRY                        D300          40001
CBL_QRY                        D400          40001
MRB_QRY                          D0          50075
MRB_QRY                        D100        4473459
MRB_QRY                        D200        7646865
MRB_QRY                        D300        7920842
MRB_QRY                        D400        7920842
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

physical reads_SLICE
====================
Run Type                       W400
CBL_QRY                       40001
MRB_QRY                     7920842
PFB_QRY                           0
WFB_QRY                           0

physical reads_RATIO
====================
Run Type                      Depth           W400
CBL_QRY                          D0    40001000000
CBL_QRY                        D100    40000000000
CBL_QRY                        D200    40001000000
CBL_QRY                        D300    40001000000
CBL_QRY                        D400    40001000000
MRB_QRY                          D0    50075000000
MRB_QRY                        D100  4473459000000
MRB_QRY                        D200  7646865000000
MRB_QRY                        D300  7920842000000
MRB_QRY                        D400  7920842000000
PFB_QRY                          D0              0
PFB_QRY                        D100              0
PFB_QRY                        D200              0
PFB_QRY                        D300              0
PFB_QRY                        D400              0
WFB_QRY                          D0              0
WFB_QRY                        D100              0
WFB_QRY                        D200              0
WFB_QRY                        D300              0
WFB_QRY                        D400              0

physical reads_SLICE_RATIO
==========================
Run Type                       W400
CBL_QRY                 40001000000
MRB_QRY               7920842000000
PFB_QRY                           0
WFB_QRY                           0

Timer Set: File Writer, Constructed at 19 Feb 2017 16:02:58, written at 16:03:00
================================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.00 (0.000000), calls: 1000, '***' denotes corrected line below]

Timer       Elapsed         CPU         Calls       Ela/Call       CPU/Call
-------  ----------  ----------  ------------  -------------  -------------
Lines          0.00        0.00             1        0.00100        0.00000
(Other)        1.49        1.47             1        1.49300        1.47000
-------  ----------  ----------  ------------  -------------  -------------
Total          1.49        1.47             2        0.74700        0.73500
-------  ----------  ----------  ------------  -------------  -------------

Timer Set: Top, Constructed at 19 Feb 2017 15:38:23, written at 16:03:00
========================================================================
[Timer timed: Elapsed (per call): 0.01 (0.000007), CPU (per call): 0.01 (0.000010), calls: 1000, '***' denotes corrected line below]

Timer          Elapsed         CPU         Calls       Ela/Call       CPU/Call
----------  ----------  ----------  ------------  -------------  -------------
Setup Data        0.28        0.15             5        0.05560        0.03000
Querying      1,472.97      219.21             5      294.59340       43.84200
(Other)           3.07        2.97             1        3.06800        2.97000
----------  ----------  ----------  ------------  -------------  -------------
Total         1,476.31      222.33            11      134.21027       20.21182
----------  ----------  ----------  ------------  -------------  -------------
Successfully completed

3581 rows selected.

Elapsed: 00:00:00.30
SQL> 
SQL> SELECT 'End: ' || To_Char(SYSDATE,'DD-MON-YYYY HH24:MI:SS') FROM DUAL
  2  /

'END:'||TO_CHAR(SYSDATE,'
-------------------------
End: 19-FEB-2017 16:03:00

Elapsed: 00:00:00.00
SQL> SPOOL OFF
